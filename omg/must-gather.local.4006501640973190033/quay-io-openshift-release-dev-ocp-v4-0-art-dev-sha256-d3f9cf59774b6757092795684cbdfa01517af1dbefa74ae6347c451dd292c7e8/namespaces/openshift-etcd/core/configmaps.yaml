---
apiVersion: v1
items:
- apiVersion: v1
  data:
    install-config: |
      additionalTrustBundlePolicy: Proxyonly
      apiVersion: v1
      baseDomain: gw.lo
      bootstrapInPlace:
        installationDisk: /dev/sda
      compute:
      - architecture: amd64
        hyperthreading: Enabled
        name: worker
        platform: {}
        replicas: 0
      controlPlane:
        architecture: amd64
        hyperthreading: Enabled
        name: master
        platform: {}
        replicas: 1
      metadata:
        creationTimestamp: null
        name: sno
      networking:
        clusterNetwork:
        - cidr: 10.128.0.0/14
          hostPrefix: 23
        machineNetwork:
        - cidr: 10.0.0.0/16
        networkType: OVNKubernetes
        serviceNetwork:
        - 172.30.0.0/16
      platform:
        none: {}
      publish: External
      pullSecret: ""
      sshKey: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDWUsb0I159v27vSBuOOyQMX54iD2zuKZOOy+e5GRCJ3yONNr3Mkdyng67BNfsnvlf8kpgSi0yiaVGeXKSjkrY9YPHe0wkVW0UHZ9uZqYqgVdEzSG3Z0NNkrd/zp3jCztPad+q6iWb1R0iFlK7/h8NihOky9HXOustrtDwnvTgONwJnluxQp1zl86deKP0W9xx3Ky/Jobr3dbfOhJVK3qzF6OL6KaNjpT+hDYjh1OISzrx1jWLxFvZ4r7X2wbRhcNRyD5sTrxcs3z5Xdz/KRT0UhIj47CF4Heoiqtl/aQ5kdjpRqlmC2spJ9WZinsqbb6HhZ1i8Yd2ZycDQZF+S8n1n
        gwest@Glenns-MacBook-Pro.local
  kind: ConfigMap
  metadata:
    annotations:
      kubernetes.io/description: The install-config content used to create the cluster.  The
        cluster configuration may have evolved since installation, so check cluster
        configuration resources directly if you are interested in the current cluster
        state.
    creationTimestamp: "2023-05-02T12:28:31Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:install-config: {}
        f:metadata:
          f:annotations:
            .: {}
            f:kubernetes.io/description: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:28:31Z"
    name: cluster-config-v1
    namespace: openshift-etcd
    resourceVersion: "3577"
    uid: 1433443b-f3b2-4846-a56b-d71dd8ebb002
- apiVersion: v1
  data:
    ca-bundle.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDOTCCAiGgAwIBAgIIOxoXHS/N9MUwDQYJKoZIhvcNAQELBQAwKjESMBAGA1UE
      CxMJb3BlbnNoaWZ0MRQwEgYDVQQDEwtldGNkLXNpZ25lcjAeFw0yMzA1MDIxMjE2
      MjFaFw0zMzA0MjkxMjE2MjJaMCoxEjAQBgNVBAsTCW9wZW5zaGlmdDEUMBIGA1UE
      AxMLZXRjZC1zaWduZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDH
      4r4LPlNnEChGEOM0przPEOhk5znlfUrFW2S3uTw5HwKO4Dn5vK/azZ7P/klGgeH5
      xxzl5mRW69S0x9/L0GydzvfDR+lSkakdrfFg5NUNw5ZmnPvIrBV8hcdW5lnc7kdK
      CzfeihY9MjF85dkcEFmuInC9ts7Lw6uqkXLVh+GtYnruk4Mz6tbL7vv7SGZlbkOZ
      Nvr8+yzvMpwoMvqTPOKWeFeBO6d9VYCGvn2Vv/ddeG9/xF1u8FFcawCj/FimSvtL
      jwHlDhGEjD+sNTqenUdTS9yUU2FzyVjUvMUTRaHHW/y5kfzGixr/Px3Df9R8hIBW
      SzRRrF2lz2RN4bjFXknhAgMBAAGjYzBhMA4GA1UdDwEB/wQEAwICpDAPBgNVHRMB
      Af8EBTADAQH/MB0GA1UdDgQWBBS6D+xobUUCncL6d/8s5SM8JmvujDAfBgNVHSME
      GDAWgBS6D+xobUUCncL6d/8s5SM8JmvujDANBgkqhkiG9w0BAQsFAAOCAQEAGSQS
      oZr5WmPnLIvQB6IBsbN8v1Ien5VFWyJEhaIAbzFcPcCavtFU8McoptXBjIjdBED4
      2HSPuhuEtQKzP98zqSXbi9cHnrz0OyYMNbzukOhbJLooZcFYO6OsTMoGxH2Y8B1I
      XK3giPsNq8s0y9Toi7oVyPuF9qfhk9WAUhOEAG6uz0bcgPrUEkOh3jzrEEpUalni
      fIhbLIyLr/mg30KBQfaNWa1fjNk03cSYoEQASsXmqLt+7t0lckTJwehO8UL6ENyp
      93afYPCV75jEJg8fUk+9ivFOqGGtgaIJ7qmysmh+TirB3gUHj3orV2Yozm3CXRoB
      NdWNdjgGTDX7qoXXxQ==
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:28:32Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:ca-bundle.crt: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:28:32Z"
    name: etcd-ca-bundle
    namespace: openshift-etcd
    resourceVersion: "3588"
    uid: c83d29d4-0d2c-4028-a728-4ef21e2bd738
- apiVersion: v1
  data:
    6ecdacfb52076732: 192.168.1.126
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:18:05Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data: {}
      manager: cluster-bootstrap
      operation: Update
      time: "2023-05-02T12:18:05Z"
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          f:6ecdacfb52076732: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:31:24Z"
    name: etcd-endpoints
    namespace: openshift-etcd
    resourceVersion: "5573"
    uid: 9374a65b-70a9-45bf-bb17-ddd54a395c95
- apiVersion: v1
  data:
    MTkyLjE2OC4xLjEyNg: 192.168.1.126
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:29:27Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:MTkyLjE2OC4xLjEyNg: {}
        f:metadata:
          f:ownerReferences:
            .: {}
            k:{"uid":"665d0fd4-516e-4618-8457-4a82d15bfe9b"}: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:29:27Z"
    name: etcd-endpoints-2
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-2
      uid: 665d0fd4-516e-4618-8457-4a82d15bfe9b
    resourceVersion: "4975"
    uid: dd2fd6cd-60b3-4cbf-9c6e-2e6a4adfd859
- apiVersion: v1
  data:
    6ecdacfb52076732: 192.168.1.126
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:31:36Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:6ecdacfb52076732: {}
        f:metadata:
          f:ownerReferences:
            .: {}
            k:{"uid":"f82c5c6f-86d4-47a7-b81d-4e0a5ebc6f30"}: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:31:36Z"
    name: etcd-endpoints-3
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-3
      uid: f82c5c6f-86d4-47a7-b81d-4e0a5ebc6f30
    resourceVersion: "5829"
    uid: e5738d6c-79d3-45e7-bc61-594bdf77ab42
- apiVersion: v1
  data:
    ca-bundle.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDRzCCAi+gAwIBAgIIPn1vBSOt1IgwDQYJKoZIhvcNAQELBQAwMTESMBAGA1UE
      CxMJb3BlbnNoaWZ0MRswGQYDVQQDExJldGNkLW1ldHJpYy1zaWduZXIwHhcNMjMw
      NTAyMTIxNjIyWhcNMzMwNDI5MTIxNjIzWjAxMRIwEAYDVQQLEwlvcGVuc2hpZnQx
      GzAZBgNVBAMTEmV0Y2QtbWV0cmljLXNpZ25lcjCCASIwDQYJKoZIhvcNAQEBBQAD
      ggEPADCCAQoCggEBANinUKmLwfSXVS4ihrBu9nmArvkS3CXmFeUT294uvIB01B4U
      HvEtVKKg2BcCmGSIORPtqkrKnFvA+7oU1lnDYUMWs4ZdLNf/bxYliTqdzNaaUOJk
      egbpmNNQj/IAQPBlyVRlMPdPlk4t8aJFmggloKndw5+f2Hmvgp7y9fqFq8RF0rlg
      f7X0xCcMhLMDJ/JSuCrN/ABDj7dQDplIGovwsH4m7+LBO2Hapfev4GNEm86gQjfI
      EDhd9GNB+cDgvfeHCCiRlwoDtNxKTL7OI294ss5W8xdzTTpibOitkomEOg5ozTg6
      Rgl4AN/zdpN3YwpQ086xrtDA0WSgG2CwJS4rAFECAwEAAaNjMGEwDgYDVR0PAQH/
      BAQDAgKkMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFBARggPhsA/Cu0XR1jla
      xNuDKXioMB8GA1UdIwQYMBaAFBARggPhsA/Cu0XR1jlaxNuDKXioMA0GCSqGSIb3
      DQEBCwUAA4IBAQCm3uMSUR9TV751SHjQmVgVdRYs+TQyGFCKXVSOBrVMWuIA6TcS
      RX5Fq+2xetCyC5jjDimVm+IQgUGXnzT08bbSr+ug8JHhL0iwzDjat5S6/IYb2JEj
      DPJCiZ6gpMHG7KShaB6Lz7I3y++3/BghU5Xf28FjnqTusRLPS+dF1Bwyd4Mq6nBC
      AQTdV3ZYx51MwN71Nzlh1IWAV8VZA269TNsx1ST3exXW3KmuikEGGfBvTRDc+RdE
      KoZIIN/SuGvvWzA8bV4nmqzLetAkGx4LhrE77g/J55dG86rXNH0X1zNe9CVgcenb
      yByuv1bM+nkH4r/nLpsTMN/3+1LoM9gy989b
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:28:33Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:ca-bundle.crt: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:28:33Z"
    name: etcd-metrics-proxy-client-ca
    namespace: openshift-etcd
    resourceVersion: "3598"
    uid: 370dc06f-eabe-421a-8ecb-d0ba080717a3
- apiVersion: v1
  data:
    ca-bundle.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDRzCCAi+gAwIBAgIIPn1vBSOt1IgwDQYJKoZIhvcNAQELBQAwMTESMBAGA1UE
      CxMJb3BlbnNoaWZ0MRswGQYDVQQDExJldGNkLW1ldHJpYy1zaWduZXIwHhcNMjMw
      NTAyMTIxNjIyWhcNMzMwNDI5MTIxNjIzWjAxMRIwEAYDVQQLEwlvcGVuc2hpZnQx
      GzAZBgNVBAMTEmV0Y2QtbWV0cmljLXNpZ25lcjCCASIwDQYJKoZIhvcNAQEBBQAD
      ggEPADCCAQoCggEBANinUKmLwfSXVS4ihrBu9nmArvkS3CXmFeUT294uvIB01B4U
      HvEtVKKg2BcCmGSIORPtqkrKnFvA+7oU1lnDYUMWs4ZdLNf/bxYliTqdzNaaUOJk
      egbpmNNQj/IAQPBlyVRlMPdPlk4t8aJFmggloKndw5+f2Hmvgp7y9fqFq8RF0rlg
      f7X0xCcMhLMDJ/JSuCrN/ABDj7dQDplIGovwsH4m7+LBO2Hapfev4GNEm86gQjfI
      EDhd9GNB+cDgvfeHCCiRlwoDtNxKTL7OI294ss5W8xdzTTpibOitkomEOg5ozTg6
      Rgl4AN/zdpN3YwpQ086xrtDA0WSgG2CwJS4rAFECAwEAAaNjMGEwDgYDVR0PAQH/
      BAQDAgKkMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFBARggPhsA/Cu0XR1jla
      xNuDKXioMB8GA1UdIwQYMBaAFBARggPhsA/Cu0XR1jlaxNuDKXioMA0GCSqGSIb3
      DQEBCwUAA4IBAQCm3uMSUR9TV751SHjQmVgVdRYs+TQyGFCKXVSOBrVMWuIA6TcS
      RX5Fq+2xetCyC5jjDimVm+IQgUGXnzT08bbSr+ug8JHhL0iwzDjat5S6/IYb2JEj
      DPJCiZ6gpMHG7KShaB6Lz7I3y++3/BghU5Xf28FjnqTusRLPS+dF1Bwyd4Mq6nBC
      AQTdV3ZYx51MwN71Nzlh1IWAV8VZA269TNsx1ST3exXW3KmuikEGGfBvTRDc+RdE
      KoZIIN/SuGvvWzA8bV4nmqzLetAkGx4LhrE77g/J55dG86rXNH0X1zNe9CVgcenb
      yByuv1bM+nkH4r/nLpsTMN/3+1LoM9gy989b
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:29:26Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:ca-bundle.crt: {}
        f:metadata:
          f:ownerReferences:
            .: {}
            k:{"uid":"665d0fd4-516e-4618-8457-4a82d15bfe9b"}: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:29:26Z"
    name: etcd-metrics-proxy-client-ca-2
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-2
      uid: 665d0fd4-516e-4618-8457-4a82d15bfe9b
    resourceVersion: "4968"
    uid: f27a642f-1fa7-4127-b72f-60677553c66c
- apiVersion: v1
  data:
    ca-bundle.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDRzCCAi+gAwIBAgIIPn1vBSOt1IgwDQYJKoZIhvcNAQELBQAwMTESMBAGA1UE
      CxMJb3BlbnNoaWZ0MRswGQYDVQQDExJldGNkLW1ldHJpYy1zaWduZXIwHhcNMjMw
      NTAyMTIxNjIyWhcNMzMwNDI5MTIxNjIzWjAxMRIwEAYDVQQLEwlvcGVuc2hpZnQx
      GzAZBgNVBAMTEmV0Y2QtbWV0cmljLXNpZ25lcjCCASIwDQYJKoZIhvcNAQEBBQAD
      ggEPADCCAQoCggEBANinUKmLwfSXVS4ihrBu9nmArvkS3CXmFeUT294uvIB01B4U
      HvEtVKKg2BcCmGSIORPtqkrKnFvA+7oU1lnDYUMWs4ZdLNf/bxYliTqdzNaaUOJk
      egbpmNNQj/IAQPBlyVRlMPdPlk4t8aJFmggloKndw5+f2Hmvgp7y9fqFq8RF0rlg
      f7X0xCcMhLMDJ/JSuCrN/ABDj7dQDplIGovwsH4m7+LBO2Hapfev4GNEm86gQjfI
      EDhd9GNB+cDgvfeHCCiRlwoDtNxKTL7OI294ss5W8xdzTTpibOitkomEOg5ozTg6
      Rgl4AN/zdpN3YwpQ086xrtDA0WSgG2CwJS4rAFECAwEAAaNjMGEwDgYDVR0PAQH/
      BAQDAgKkMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFBARggPhsA/Cu0XR1jla
      xNuDKXioMB8GA1UdIwQYMBaAFBARggPhsA/Cu0XR1jlaxNuDKXioMA0GCSqGSIb3
      DQEBCwUAA4IBAQCm3uMSUR9TV751SHjQmVgVdRYs+TQyGFCKXVSOBrVMWuIA6TcS
      RX5Fq+2xetCyC5jjDimVm+IQgUGXnzT08bbSr+ug8JHhL0iwzDjat5S6/IYb2JEj
      DPJCiZ6gpMHG7KShaB6Lz7I3y++3/BghU5Xf28FjnqTusRLPS+dF1Bwyd4Mq6nBC
      AQTdV3ZYx51MwN71Nzlh1IWAV8VZA269TNsx1ST3exXW3KmuikEGGfBvTRDc+RdE
      KoZIIN/SuGvvWzA8bV4nmqzLetAkGx4LhrE77g/J55dG86rXNH0X1zNe9CVgcenb
      yByuv1bM+nkH4r/nLpsTMN/3+1LoM9gy989b
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:31:36Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:ca-bundle.crt: {}
        f:metadata:
          f:ownerReferences:
            .: {}
            k:{"uid":"f82c5c6f-86d4-47a7-b81d-4e0a5ebc6f30"}: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:31:36Z"
    name: etcd-metrics-proxy-client-ca-3
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-3
      uid: f82c5c6f-86d4-47a7-b81d-4e0a5ebc6f30
    resourceVersion: "5821"
    uid: b60d4091-22ef-44fe-973f-9e921688c76d
- apiVersion: v1
  data:
    ca-bundle.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDRzCCAi+gAwIBAgIIPn1vBSOt1IgwDQYJKoZIhvcNAQELBQAwMTESMBAGA1UE
      CxMJb3BlbnNoaWZ0MRswGQYDVQQDExJldGNkLW1ldHJpYy1zaWduZXIwHhcNMjMw
      NTAyMTIxNjIyWhcNMzMwNDI5MTIxNjIzWjAxMRIwEAYDVQQLEwlvcGVuc2hpZnQx
      GzAZBgNVBAMTEmV0Y2QtbWV0cmljLXNpZ25lcjCCASIwDQYJKoZIhvcNAQEBBQAD
      ggEPADCCAQoCggEBANinUKmLwfSXVS4ihrBu9nmArvkS3CXmFeUT294uvIB01B4U
      HvEtVKKg2BcCmGSIORPtqkrKnFvA+7oU1lnDYUMWs4ZdLNf/bxYliTqdzNaaUOJk
      egbpmNNQj/IAQPBlyVRlMPdPlk4t8aJFmggloKndw5+f2Hmvgp7y9fqFq8RF0rlg
      f7X0xCcMhLMDJ/JSuCrN/ABDj7dQDplIGovwsH4m7+LBO2Hapfev4GNEm86gQjfI
      EDhd9GNB+cDgvfeHCCiRlwoDtNxKTL7OI294ss5W8xdzTTpibOitkomEOg5ozTg6
      Rgl4AN/zdpN3YwpQ086xrtDA0WSgG2CwJS4rAFECAwEAAaNjMGEwDgYDVR0PAQH/
      BAQDAgKkMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFBARggPhsA/Cu0XR1jla
      xNuDKXioMB8GA1UdIwQYMBaAFBARggPhsA/Cu0XR1jlaxNuDKXioMA0GCSqGSIb3
      DQEBCwUAA4IBAQCm3uMSUR9TV751SHjQmVgVdRYs+TQyGFCKXVSOBrVMWuIA6TcS
      RX5Fq+2xetCyC5jjDimVm+IQgUGXnzT08bbSr+ug8JHhL0iwzDjat5S6/IYb2JEj
      DPJCiZ6gpMHG7KShaB6Lz7I3y++3/BghU5Xf28FjnqTusRLPS+dF1Bwyd4Mq6nBC
      AQTdV3ZYx51MwN71Nzlh1IWAV8VZA269TNsx1ST3exXW3KmuikEGGfBvTRDc+RdE
      KoZIIN/SuGvvWzA8bV4nmqzLetAkGx4LhrE77g/J55dG86rXNH0X1zNe9CVgcenb
      yByuv1bM+nkH4r/nLpsTMN/3+1LoM9gy989b
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:28:31Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:ca-bundle.crt: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:28:31Z"
    name: etcd-metrics-proxy-serving-ca
    namespace: openshift-etcd
    resourceVersion: "3569"
    uid: 13d84a24-46b0-4dd5-91c7-87705e4971f6
- apiVersion: v1
  data:
    ca-bundle.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDRzCCAi+gAwIBAgIIPn1vBSOt1IgwDQYJKoZIhvcNAQELBQAwMTESMBAGA1UE
      CxMJb3BlbnNoaWZ0MRswGQYDVQQDExJldGNkLW1ldHJpYy1zaWduZXIwHhcNMjMw
      NTAyMTIxNjIyWhcNMzMwNDI5MTIxNjIzWjAxMRIwEAYDVQQLEwlvcGVuc2hpZnQx
      GzAZBgNVBAMTEmV0Y2QtbWV0cmljLXNpZ25lcjCCASIwDQYJKoZIhvcNAQEBBQAD
      ggEPADCCAQoCggEBANinUKmLwfSXVS4ihrBu9nmArvkS3CXmFeUT294uvIB01B4U
      HvEtVKKg2BcCmGSIORPtqkrKnFvA+7oU1lnDYUMWs4ZdLNf/bxYliTqdzNaaUOJk
      egbpmNNQj/IAQPBlyVRlMPdPlk4t8aJFmggloKndw5+f2Hmvgp7y9fqFq8RF0rlg
      f7X0xCcMhLMDJ/JSuCrN/ABDj7dQDplIGovwsH4m7+LBO2Hapfev4GNEm86gQjfI
      EDhd9GNB+cDgvfeHCCiRlwoDtNxKTL7OI294ss5W8xdzTTpibOitkomEOg5ozTg6
      Rgl4AN/zdpN3YwpQ086xrtDA0WSgG2CwJS4rAFECAwEAAaNjMGEwDgYDVR0PAQH/
      BAQDAgKkMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFBARggPhsA/Cu0XR1jla
      xNuDKXioMB8GA1UdIwQYMBaAFBARggPhsA/Cu0XR1jlaxNuDKXioMA0GCSqGSIb3
      DQEBCwUAA4IBAQCm3uMSUR9TV751SHjQmVgVdRYs+TQyGFCKXVSOBrVMWuIA6TcS
      RX5Fq+2xetCyC5jjDimVm+IQgUGXnzT08bbSr+ug8JHhL0iwzDjat5S6/IYb2JEj
      DPJCiZ6gpMHG7KShaB6Lz7I3y++3/BghU5Xf28FjnqTusRLPS+dF1Bwyd4Mq6nBC
      AQTdV3ZYx51MwN71Nzlh1IWAV8VZA269TNsx1ST3exXW3KmuikEGGfBvTRDc+RdE
      KoZIIN/SuGvvWzA8bV4nmqzLetAkGx4LhrE77g/J55dG86rXNH0X1zNe9CVgcenb
      yByuv1bM+nkH4r/nLpsTMN/3+1LoM9gy989b
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:29:25Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:ca-bundle.crt: {}
        f:metadata:
          f:ownerReferences:
            .: {}
            k:{"uid":"665d0fd4-516e-4618-8457-4a82d15bfe9b"}: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:29:25Z"
    name: etcd-metrics-proxy-serving-ca-2
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-2
      uid: 665d0fd4-516e-4618-8457-4a82d15bfe9b
    resourceVersion: "4953"
    uid: 9bf77232-3a32-4336-b991-6c13c45c93a5
- apiVersion: v1
  data:
    ca-bundle.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDRzCCAi+gAwIBAgIIPn1vBSOt1IgwDQYJKoZIhvcNAQELBQAwMTESMBAGA1UE
      CxMJb3BlbnNoaWZ0MRswGQYDVQQDExJldGNkLW1ldHJpYy1zaWduZXIwHhcNMjMw
      NTAyMTIxNjIyWhcNMzMwNDI5MTIxNjIzWjAxMRIwEAYDVQQLEwlvcGVuc2hpZnQx
      GzAZBgNVBAMTEmV0Y2QtbWV0cmljLXNpZ25lcjCCASIwDQYJKoZIhvcNAQEBBQAD
      ggEPADCCAQoCggEBANinUKmLwfSXVS4ihrBu9nmArvkS3CXmFeUT294uvIB01B4U
      HvEtVKKg2BcCmGSIORPtqkrKnFvA+7oU1lnDYUMWs4ZdLNf/bxYliTqdzNaaUOJk
      egbpmNNQj/IAQPBlyVRlMPdPlk4t8aJFmggloKndw5+f2Hmvgp7y9fqFq8RF0rlg
      f7X0xCcMhLMDJ/JSuCrN/ABDj7dQDplIGovwsH4m7+LBO2Hapfev4GNEm86gQjfI
      EDhd9GNB+cDgvfeHCCiRlwoDtNxKTL7OI294ss5W8xdzTTpibOitkomEOg5ozTg6
      Rgl4AN/zdpN3YwpQ086xrtDA0WSgG2CwJS4rAFECAwEAAaNjMGEwDgYDVR0PAQH/
      BAQDAgKkMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFBARggPhsA/Cu0XR1jla
      xNuDKXioMB8GA1UdIwQYMBaAFBARggPhsA/Cu0XR1jlaxNuDKXioMA0GCSqGSIb3
      DQEBCwUAA4IBAQCm3uMSUR9TV751SHjQmVgVdRYs+TQyGFCKXVSOBrVMWuIA6TcS
      RX5Fq+2xetCyC5jjDimVm+IQgUGXnzT08bbSr+ug8JHhL0iwzDjat5S6/IYb2JEj
      DPJCiZ6gpMHG7KShaB6Lz7I3y++3/BghU5Xf28FjnqTusRLPS+dF1Bwyd4Mq6nBC
      AQTdV3ZYx51MwN71Nzlh1IWAV8VZA269TNsx1ST3exXW3KmuikEGGfBvTRDc+RdE
      KoZIIN/SuGvvWzA8bV4nmqzLetAkGx4LhrE77g/J55dG86rXNH0X1zNe9CVgcenb
      yByuv1bM+nkH4r/nLpsTMN/3+1LoM9gy989b
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:31:35Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:ca-bundle.crt: {}
        f:metadata:
          f:ownerReferences:
            .: {}
            k:{"uid":"f82c5c6f-86d4-47a7-b81d-4e0a5ebc6f30"}: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:31:35Z"
    name: etcd-metrics-proxy-serving-ca-3
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-3
      uid: f82c5c6f-86d4-47a7-b81d-4e0a5ebc6f30
    resourceVersion: "5816"
    uid: f1976dee-85ad-460e-ad20-1069ca72079d
- apiVersion: v1
  data:
    ca-bundle.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDOTCCAiGgAwIBAgIIOxoXHS/N9MUwDQYJKoZIhvcNAQELBQAwKjESMBAGA1UE
      CxMJb3BlbnNoaWZ0MRQwEgYDVQQDEwtldGNkLXNpZ25lcjAeFw0yMzA1MDIxMjE2
      MjFaFw0zMzA0MjkxMjE2MjJaMCoxEjAQBgNVBAsTCW9wZW5zaGlmdDEUMBIGA1UE
      AxMLZXRjZC1zaWduZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDH
      4r4LPlNnEChGEOM0przPEOhk5znlfUrFW2S3uTw5HwKO4Dn5vK/azZ7P/klGgeH5
      xxzl5mRW69S0x9/L0GydzvfDR+lSkakdrfFg5NUNw5ZmnPvIrBV8hcdW5lnc7kdK
      CzfeihY9MjF85dkcEFmuInC9ts7Lw6uqkXLVh+GtYnruk4Mz6tbL7vv7SGZlbkOZ
      Nvr8+yzvMpwoMvqTPOKWeFeBO6d9VYCGvn2Vv/ddeG9/xF1u8FFcawCj/FimSvtL
      jwHlDhGEjD+sNTqenUdTS9yUU2FzyVjUvMUTRaHHW/y5kfzGixr/Px3Df9R8hIBW
      SzRRrF2lz2RN4bjFXknhAgMBAAGjYzBhMA4GA1UdDwEB/wQEAwICpDAPBgNVHRMB
      Af8EBTADAQH/MB0GA1UdDgQWBBS6D+xobUUCncL6d/8s5SM8JmvujDAfBgNVHSME
      GDAWgBS6D+xobUUCncL6d/8s5SM8JmvujDANBgkqhkiG9w0BAQsFAAOCAQEAGSQS
      oZr5WmPnLIvQB6IBsbN8v1Ien5VFWyJEhaIAbzFcPcCavtFU8McoptXBjIjdBED4
      2HSPuhuEtQKzP98zqSXbi9cHnrz0OyYMNbzukOhbJLooZcFYO6OsTMoGxH2Y8B1I
      XK3giPsNq8s0y9Toi7oVyPuF9qfhk9WAUhOEAG6uz0bcgPrUEkOh3jzrEEpUalni
      fIhbLIyLr/mg30KBQfaNWa1fjNk03cSYoEQASsXmqLt+7t0lckTJwehO8UL6ENyp
      93afYPCV75jEJg8fUk+9ivFOqGGtgaIJ7qmysmh+TirB3gUHj3orV2Yozm3CXRoB
      NdWNdjgGTDX7qoXXxQ==
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:28:33Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:ca-bundle.crt: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:28:33Z"
    name: etcd-peer-client-ca
    namespace: openshift-etcd
    resourceVersion: "3594"
    uid: 996f5cb2-78fc-44bb-912a-bbf36bee5565
- apiVersion: v1
  data:
    ca-bundle.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDOTCCAiGgAwIBAgIIOxoXHS/N9MUwDQYJKoZIhvcNAQELBQAwKjESMBAGA1UE
      CxMJb3BlbnNoaWZ0MRQwEgYDVQQDEwtldGNkLXNpZ25lcjAeFw0yMzA1MDIxMjE2
      MjFaFw0zMzA0MjkxMjE2MjJaMCoxEjAQBgNVBAsTCW9wZW5zaGlmdDEUMBIGA1UE
      AxMLZXRjZC1zaWduZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDH
      4r4LPlNnEChGEOM0przPEOhk5znlfUrFW2S3uTw5HwKO4Dn5vK/azZ7P/klGgeH5
      xxzl5mRW69S0x9/L0GydzvfDR+lSkakdrfFg5NUNw5ZmnPvIrBV8hcdW5lnc7kdK
      CzfeihY9MjF85dkcEFmuInC9ts7Lw6uqkXLVh+GtYnruk4Mz6tbL7vv7SGZlbkOZ
      Nvr8+yzvMpwoMvqTPOKWeFeBO6d9VYCGvn2Vv/ddeG9/xF1u8FFcawCj/FimSvtL
      jwHlDhGEjD+sNTqenUdTS9yUU2FzyVjUvMUTRaHHW/y5kfzGixr/Px3Df9R8hIBW
      SzRRrF2lz2RN4bjFXknhAgMBAAGjYzBhMA4GA1UdDwEB/wQEAwICpDAPBgNVHRMB
      Af8EBTADAQH/MB0GA1UdDgQWBBS6D+xobUUCncL6d/8s5SM8JmvujDAfBgNVHSME
      GDAWgBS6D+xobUUCncL6d/8s5SM8JmvujDANBgkqhkiG9w0BAQsFAAOCAQEAGSQS
      oZr5WmPnLIvQB6IBsbN8v1Ien5VFWyJEhaIAbzFcPcCavtFU8McoptXBjIjdBED4
      2HSPuhuEtQKzP98zqSXbi9cHnrz0OyYMNbzukOhbJLooZcFYO6OsTMoGxH2Y8B1I
      XK3giPsNq8s0y9Toi7oVyPuF9qfhk9WAUhOEAG6uz0bcgPrUEkOh3jzrEEpUalni
      fIhbLIyLr/mg30KBQfaNWa1fjNk03cSYoEQASsXmqLt+7t0lckTJwehO8UL6ENyp
      93afYPCV75jEJg8fUk+9ivFOqGGtgaIJ7qmysmh+TirB3gUHj3orV2Yozm3CXRoB
      NdWNdjgGTDX7qoXXxQ==
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:29:24Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:ca-bundle.crt: {}
        f:metadata:
          f:ownerReferences:
            .: {}
            k:{"uid":"665d0fd4-516e-4618-8457-4a82d15bfe9b"}: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:29:24Z"
    name: etcd-peer-client-ca-2
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-2
      uid: 665d0fd4-516e-4618-8457-4a82d15bfe9b
    resourceVersion: "4943"
    uid: dc67271b-b517-4166-afdf-ed2bd9222884
- apiVersion: v1
  data:
    ca-bundle.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDOTCCAiGgAwIBAgIIOxoXHS/N9MUwDQYJKoZIhvcNAQELBQAwKjESMBAGA1UE
      CxMJb3BlbnNoaWZ0MRQwEgYDVQQDEwtldGNkLXNpZ25lcjAeFw0yMzA1MDIxMjE2
      MjFaFw0zMzA0MjkxMjE2MjJaMCoxEjAQBgNVBAsTCW9wZW5zaGlmdDEUMBIGA1UE
      AxMLZXRjZC1zaWduZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDH
      4r4LPlNnEChGEOM0przPEOhk5znlfUrFW2S3uTw5HwKO4Dn5vK/azZ7P/klGgeH5
      xxzl5mRW69S0x9/L0GydzvfDR+lSkakdrfFg5NUNw5ZmnPvIrBV8hcdW5lnc7kdK
      CzfeihY9MjF85dkcEFmuInC9ts7Lw6uqkXLVh+GtYnruk4Mz6tbL7vv7SGZlbkOZ
      Nvr8+yzvMpwoMvqTPOKWeFeBO6d9VYCGvn2Vv/ddeG9/xF1u8FFcawCj/FimSvtL
      jwHlDhGEjD+sNTqenUdTS9yUU2FzyVjUvMUTRaHHW/y5kfzGixr/Px3Df9R8hIBW
      SzRRrF2lz2RN4bjFXknhAgMBAAGjYzBhMA4GA1UdDwEB/wQEAwICpDAPBgNVHRMB
      Af8EBTADAQH/MB0GA1UdDgQWBBS6D+xobUUCncL6d/8s5SM8JmvujDAfBgNVHSME
      GDAWgBS6D+xobUUCncL6d/8s5SM8JmvujDANBgkqhkiG9w0BAQsFAAOCAQEAGSQS
      oZr5WmPnLIvQB6IBsbN8v1Ien5VFWyJEhaIAbzFcPcCavtFU8McoptXBjIjdBED4
      2HSPuhuEtQKzP98zqSXbi9cHnrz0OyYMNbzukOhbJLooZcFYO6OsTMoGxH2Y8B1I
      XK3giPsNq8s0y9Toi7oVyPuF9qfhk9WAUhOEAG6uz0bcgPrUEkOh3jzrEEpUalni
      fIhbLIyLr/mg30KBQfaNWa1fjNk03cSYoEQASsXmqLt+7t0lckTJwehO8UL6ENyp
      93afYPCV75jEJg8fUk+9ivFOqGGtgaIJ7qmysmh+TirB3gUHj3orV2Yozm3CXRoB
      NdWNdjgGTDX7qoXXxQ==
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:31:34Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:ca-bundle.crt: {}
        f:metadata:
          f:ownerReferences:
            .: {}
            k:{"uid":"f82c5c6f-86d4-47a7-b81d-4e0a5ebc6f30"}: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:31:34Z"
    name: etcd-peer-client-ca-3
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-3
      uid: f82c5c6f-86d4-47a7-b81d-4e0a5ebc6f30
    resourceVersion: "5805"
    uid: 26e6b634-eb9b-4a1f-8d09-154ac55f3ef6
- apiVersion: v1
  data:
    forceRedeploymentReason: ""
    pod.yaml: "apiVersion: v1\nkind: Pod\nmetadata:\n  name: etcd\n  namespace: openshift-etcd\n
      \ annotations:\n    kubectl.kubernetes.io/default-container: etcd\n    target.workload.openshift.io/management:
      '{\"effect\": \"PreferredDuringScheduling\"}'\n  labels:\n    app: etcd\n    k8s-app:
      etcd\n    etcd: \"true\"\n    revision: \"REVISION\"\nspec:\n  initContainers:\n
      \   - name: setup\n      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \     imagePullPolicy: IfNotPresent\n      terminationMessagePolicy: FallbackToLogsOnError\n
      \     command:\n        - /bin/sh\n        - -c\n        - |\n          #!/bin/sh\n
      \         echo -n \"Fixing etcd log permissions.\"\n          chmod 0700 /var/log/etcd
      && touch /var/log/etcd/etcd-health-probe.log && chmod 0600 /var/log/etcd/*\n
      \     securityContext:\n        privileged: true\n      resources:\n        requests:\n
      \         memory: 50Mi\n          cpu: 5m\n      volumeMounts:\n        - mountPath:
      /var/log/etcd\n          name: log-dir\n    - name: etcd-ensure-env-vars\n      image:
      quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \     imagePullPolicy: IfNotPresent\n      terminationMessagePolicy: FallbackToLogsOnError\n
      \     command:\n        - /bin/sh\n        - -c\n        - |\n          #!/bin/sh\n
      \         set -euo pipefail\n\n          : \"${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST?not
      set}\"\n          : \"${NODE_NODE_ENVVAR_NAME_ETCD_NAME?not set}\"\n          :
      \"${NODE_NODE_ENVVAR_NAME_IP?not set}\"\n\n          # check for ipv4 addresses
      as well as ipv6 addresses with extra square brackets\n          if [[ \"${NODE_NODE_ENVVAR_NAME_IP}\"
      != \"${NODE_IP}\" && \"${NODE_NODE_ENVVAR_NAME_IP}\" != \"[${NODE_IP}]\" ]];
      then\n            # echo the error message to stderr\n            echo \"Expected
      node IP to be ${NODE_IP} got ${NODE_NODE_ENVVAR_NAME_IP}\" >&2\n            exit
      1\n          fi\n\n          # check for ipv4 addresses as well as ipv6 addresses
      with extra square brackets\n          if [[ \"${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}\"
      != \"${NODE_IP}\" && \"${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}\" != \"[${NODE_IP}]\"
      ]]; then\n            # echo the error message to stderr\n            echo \"Expected
      etcd url host to be ${NODE_IP} got ${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}\"
      >&2\n            exit 1\n          fi\n\n      resources:\n        requests:\n
      \         memory: 60Mi\n          cpu: 10m\n      securityContext:\n        privileged:
      true\n      env:\n      - name: \"ALL_ETCD_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_API\"\n        value: \"3\"\n      - name: \"ETCDCTL_CACERT\"\n
      \       value: \"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt\"\n
      \     - name: \"ETCDCTL_CERT\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt\"\n
      \     - name: \"ETCDCTL_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_KEY\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key\"\n
      \     - name: \"ETCD_CIPHER_SUITES\"\n        value: \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256\"\n
      \     - name: \"ETCD_DATA_DIR\"\n        value: \"/var/lib/etcd\"\n      - name:
      \"ETCD_ELECTION_TIMEOUT\"\n        value: \"1000\"\n      - name: \"ETCD_ENABLE_PPROF\"\n
      \       value: \"true\"\n      - name: \"ETCD_EXPERIMENTAL_MAX_LEARNERS\"\n
      \       value: \"1\"\n      - name: \"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION\"\n
      \       value: \"200ms\"\n      - name: \"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL\"\n
      \       value: \"5s\"\n      - name: \"ETCD_HEARTBEAT_INTERVAL\"\n        value:
      \"100\"\n      - name: \"ETCD_IMAGE\"\n        value: \"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\"\n
      \     - name: \"ETCD_INITIAL_CLUSTER_STATE\"\n        value: \"existing\"\n
      \     - name: \"ETCD_QUOTA_BACKEND_BYTES\"\n        value: \"8589934592\"\n
      \     - name: \"ETCD_SOCKET_REUSE_ADDRESS\"\n        value: \"true\"\n      -
      name: \"NODE_node_ETCD_NAME\"\n        value: \"node\"\n      - name: \"NODE_node_ETCD_URL_HOST\"\n
      \       value: \"192.168.1.126\"\n      - name: \"NODE_node_IP\"\n        value:
      \"192.168.1.126\"\n      - name: NODE_IP\n        valueFrom:\n          fieldRef:\n
      \           fieldPath: status.podIP\n    - name: etcd-resources-copy\n      image:
      quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \     imagePullPolicy: IfNotPresent\n      terminationMessagePolicy: FallbackToLogsOnError\n
      \     command:\n        - /bin/sh\n        - -c\n        - |\n          #!/bin/sh\n
      \         set -euo pipefail\n\n          rm -f $(grep -l '^### Created by cluster-etcd-operator'
      /usr/local/bin/*)\n          cp -p /etc/kubernetes/static-pod-certs/configmaps/etcd-scripts/*.sh
      /usr/local/bin\n\n      resources:\n        requests:\n          memory: 60Mi\n
      \         cpu: 10m\n      securityContext:\n        privileged: true\n      volumeMounts:\n
      \       - mountPath: /etc/kubernetes/static-pod-resources\n          name: resource-dir\n
      \       - mountPath: /etc/kubernetes/static-pod-certs\n          name: cert-dir\n
      \       - mountPath: /usr/local/bin\n          name: usr-local-bin\n  containers:\n
      \ # The etcdctl container should always be first. It is intended to be used\n
      \ # to open a remote shell via `oc rsh` that is ready to run `etcdctl`.\n  -
      name: etcdctl\n    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \   imagePullPolicy: IfNotPresent\n    terminationMessagePolicy: FallbackToLogsOnError\n
      \   command:\n      - \"/bin/bash\"\n      - \"-c\"\n      - \"trap TERM INT;
      sleep infinity & wait\"\n    resources:\n      requests:\n        memory: 60Mi\n
      \       cpu: 10m\n    volumeMounts:\n      - mountPath: /etc/kubernetes/manifests\n
      \       name: static-pod-dir\n      - mountPath: /etc/kubernetes/static-pod-resources\n
      \       name: resource-dir\n      - mountPath: /etc/kubernetes/static-pod-certs\n
      \       name: cert-dir\n      - mountPath: /var/lib/etcd/\n        name: data-dir\n
      \   env:\n      - name: \"ALL_ETCD_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_API\"\n        value: \"3\"\n      - name: \"ETCDCTL_CACERT\"\n
      \       value: \"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt\"\n
      \     - name: \"ETCDCTL_CERT\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt\"\n
      \     - name: \"ETCDCTL_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_KEY\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key\"\n
      \     - name: \"ETCD_CIPHER_SUITES\"\n        value: \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256\"\n
      \     - name: \"ETCD_DATA_DIR\"\n        value: \"/var/lib/etcd\"\n      - name:
      \"ETCD_ELECTION_TIMEOUT\"\n        value: \"1000\"\n      - name: \"ETCD_ENABLE_PPROF\"\n
      \       value: \"true\"\n      - name: \"ETCD_EXPERIMENTAL_MAX_LEARNERS\"\n
      \       value: \"1\"\n      - name: \"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION\"\n
      \       value: \"200ms\"\n      - name: \"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL\"\n
      \       value: \"5s\"\n      - name: \"ETCD_HEARTBEAT_INTERVAL\"\n        value:
      \"100\"\n      - name: \"ETCD_IMAGE\"\n        value: \"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\"\n
      \     - name: \"ETCD_INITIAL_CLUSTER_STATE\"\n        value: \"existing\"\n
      \     - name: \"ETCD_QUOTA_BACKEND_BYTES\"\n        value: \"8589934592\"\n
      \     - name: \"ETCD_SOCKET_REUSE_ADDRESS\"\n        value: \"true\"\n      -
      name: \"NODE_node_ETCD_NAME\"\n        value: \"node\"\n      - name: \"NODE_node_ETCD_URL_HOST\"\n
      \       value: \"192.168.1.126\"\n      - name: \"NODE_node_IP\"\n        value:
      \"192.168.1.126\"\n      - name: \"ETCD_STATIC_POD_VERSION\"\n        value:
      \"REVISION\"\n  - name: etcd\n    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \   imagePullPolicy: IfNotPresent\n    terminationMessagePolicy: FallbackToLogsOnError\n
      \   command:\n      - /bin/sh\n      - -c\n      - |\n        #!/bin/sh\n        set
      -euo pipefail\n\n        etcdctl member list || true\n\n        # this has a
      non-zero return code if the command is non-zero.  If you use an export first,
      it doesn't and you\n        # will succeed when you should fail.\n        ETCD_INITIAL_CLUSTER=$(discover-etcd-initial-cluster
      \\\n          --cacert=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      \\\n          --cert=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt
      \\\n          --key=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key
      \\\n          --endpoints=${ALL_ETCD_ENDPOINTS} \\\n          --data-dir=/var/lib/etcd
      \\\n          --target-peer-url-host=${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}
      \\\n          --target-name=NODE_NAME)\n        export ETCD_INITIAL_CLUSTER\n\n
      \       # we cannot use the \"normal\" port conflict initcontainer because when
      we upgrade, the existing static pod will never yield,\n        # so we do the
      detection in etcd container itself.\n        echo -n \"Waiting for ports 2379,
      2380 and 9978 to be released.\"\n        time while [ -n \"$(ss -Htan '( sport
      = 2379 or sport = 2380 or sport = 9978 )')\" ]; do\n          echo -n \".\"\n
      \         sleep 1\n        done\n\n        export ETCD_NAME=${NODE_NODE_ENVVAR_NAME_ETCD_NAME}\n
      \       env | grep ETCD | grep -v NODE\n\n        set -x\n        # See https://etcd.io/docs/v3.4.0/tuning/
      for why we use ionice\n        exec nice -n -19 ionice -c2 -n0 etcd \\\n          --logger=zap
      \\\n          --log-level=info \\\n          --experimental-initial-corrupt-check=true
      \\\n          --initial-advertise-peer-urls=https://${NODE_NODE_ENVVAR_NAME_IP}:2380
      \\\n          --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-NODE_NAME.crt
      \\\n          --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-NODE_NAME.key
      \\\n          --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      \\\n          --client-cert-auth=true \\\n          --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt
      \\\n          --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key
      \\\n          --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt
      \\\n          --peer-client-cert-auth=true \\\n          --advertise-client-urls=https://${NODE_NODE_ENVVAR_NAME_IP}:2379
      \\\n          --listen-client-urls=https://0.0.0.0:2379,unixs://${NODE_NODE_ENVVAR_NAME_IP}:0
      \\\n          --listen-peer-urls=https://0.0.0.0:2380 \\\n          --metrics=extensive
      \\\n          --listen-metrics-urls=https://0.0.0.0:9978 ||  mv /etc/kubernetes/etcd-backup-dir/etcd-member.yaml
      /etc/kubernetes/manifests\n    env:\n      - name: \"ALL_ETCD_ENDPOINTS\"\n
      \       value: \"https://192.168.1.126:2379\"\n      - name: \"ETCDCTL_API\"\n
      \       value: \"3\"\n      - name: \"ETCDCTL_CACERT\"\n        value: \"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt\"\n
      \     - name: \"ETCDCTL_CERT\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt\"\n
      \     - name: \"ETCDCTL_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_KEY\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key\"\n
      \     - name: \"ETCD_CIPHER_SUITES\"\n        value: \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256\"\n
      \     - name: \"ETCD_DATA_DIR\"\n        value: \"/var/lib/etcd\"\n      - name:
      \"ETCD_ELECTION_TIMEOUT\"\n        value: \"1000\"\n      - name: \"ETCD_ENABLE_PPROF\"\n
      \       value: \"true\"\n      - name: \"ETCD_EXPERIMENTAL_MAX_LEARNERS\"\n
      \       value: \"1\"\n      - name: \"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION\"\n
      \       value: \"200ms\"\n      - name: \"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL\"\n
      \       value: \"5s\"\n      - name: \"ETCD_HEARTBEAT_INTERVAL\"\n        value:
      \"100\"\n      - name: \"ETCD_IMAGE\"\n        value: \"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\"\n
      \     - name: \"ETCD_INITIAL_CLUSTER_STATE\"\n        value: \"existing\"\n
      \     - name: \"ETCD_QUOTA_BACKEND_BYTES\"\n        value: \"8589934592\"\n
      \     - name: \"ETCD_SOCKET_REUSE_ADDRESS\"\n        value: \"true\"\n      -
      name: \"NODE_node_ETCD_NAME\"\n        value: \"node\"\n      - name: \"NODE_node_ETCD_URL_HOST\"\n
      \       value: \"192.168.1.126\"\n      - name: \"NODE_node_IP\"\n        value:
      \"192.168.1.126\"\n      - name: \"ETCD_STATIC_POD_VERSION\"\n        value:
      \"REVISION\"\n    resources:\n      requests:\n        memory: 600Mi\n        cpu:
      300m\n    readinessProbe:\n      httpGet:\n        port: 9980\n        path:
      readyz\n        scheme: HTTPS\n      timeoutSeconds: 10\n      failureThreshold:
      3\n      periodSeconds: 5\n      successThreshold: 1\n    livenessProbe:\n      httpGet:\n
      \       path: healthz\n        port: 9980\n        scheme: HTTPS\n      timeoutSeconds:
      10\n      periodSeconds: 5\n      successThreshold: 1\n      failureThreshold:
      3\n    startupProbe:\n      httpGet:\n        port: 9980\n        path: readyz\n
      \       scheme: HTTPS\n      initialDelaySeconds: 10\n      timeoutSeconds:
      1\n      periodSeconds: 10\n      successThreshold: 1\n      failureThreshold:
      18\n    securityContext:\n      privileged: true\n    volumeMounts:\n      -
      mountPath: /etc/kubernetes/manifests\n        name: static-pod-dir\n      -
      mountPath: /etc/kubernetes/static-pod-resources\n        name: resource-dir\n
      \     - mountPath: /etc/kubernetes/static-pod-certs\n        name: cert-dir\n
      \     - mountPath: /var/lib/etcd/\n        name: data-dir\n  - name: etcd-metrics\n
      \   image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \   imagePullPolicy: IfNotPresent\n    terminationMessagePolicy: FallbackToLogsOnError\n
      \   command:\n      - /bin/sh\n      - -c\n      - |\n        #!/bin/sh\n        set
      -euo pipefail\n\n        export ETCD_NAME=${NODE_NODE_ENVVAR_NAME_ETCD_NAME}\n\n
      \       exec nice -n -18 etcd grpc-proxy start \\\n          --endpoints https://${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}:9978
      \\\n          --metrics-addr https://0.0.0.0:9979 \\\n          --listen-addr
      127.0.0.1:9977 \\\n          --advertise-client-url \"\"  \\\n          --key
      /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key
      \\\n          --key-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-NODE_NAME.key
      \\\n          --cert /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt
      \\\n          --cert-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-NODE_NAME.crt
      \\\n          --cacert /etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt
      \\\n          --trusted-ca-file /etc/kubernetes/static-pod-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt
      \\\n          --listen-cipher-suites TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256\n
      \   env:\n      - name: \"ALL_ETCD_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_API\"\n        value: \"3\"\n      - name: \"ETCDCTL_CACERT\"\n
      \       value: \"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt\"\n
      \     - name: \"ETCDCTL_CERT\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt\"\n
      \     - name: \"ETCDCTL_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_KEY\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key\"\n
      \     - name: \"ETCD_CIPHER_SUITES\"\n        value: \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256\"\n
      \     - name: \"ETCD_DATA_DIR\"\n        value: \"/var/lib/etcd\"\n      - name:
      \"ETCD_ELECTION_TIMEOUT\"\n        value: \"1000\"\n      - name: \"ETCD_ENABLE_PPROF\"\n
      \       value: \"true\"\n      - name: \"ETCD_EXPERIMENTAL_MAX_LEARNERS\"\n
      \       value: \"1\"\n      - name: \"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION\"\n
      \       value: \"200ms\"\n      - name: \"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL\"\n
      \       value: \"5s\"\n      - name: \"ETCD_HEARTBEAT_INTERVAL\"\n        value:
      \"100\"\n      - name: \"ETCD_IMAGE\"\n        value: \"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\"\n
      \     - name: \"ETCD_INITIAL_CLUSTER_STATE\"\n        value: \"existing\"\n
      \     - name: \"ETCD_QUOTA_BACKEND_BYTES\"\n        value: \"8589934592\"\n
      \     - name: \"ETCD_SOCKET_REUSE_ADDRESS\"\n        value: \"true\"\n      -
      name: \"NODE_node_ETCD_NAME\"\n        value: \"node\"\n      - name: \"NODE_node_ETCD_URL_HOST\"\n
      \       value: \"192.168.1.126\"\n      - name: \"NODE_node_IP\"\n        value:
      \"192.168.1.126\"\n      - name: \"ETCD_STATIC_POD_VERSION\"\n        value:
      \"REVISION\"\n    resources:\n      requests:\n        memory: 200Mi\n        cpu:
      40m\n    securityContext:\n      privileged: true\n    volumeMounts:\n      -
      mountPath: /etc/kubernetes/static-pod-resources\n        name: resource-dir\n
      \     - mountPath: /etc/kubernetes/static-pod-certs\n        name: cert-dir\n
      \     - mountPath: /var/lib/etcd/\n        name: data-dir\n  - name: etcd-readyz\n
      \   image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:8090f9dd771f4f292e508b5ffca3aca3b4e6226aed25e131e49a9b6596b0b451\n
      \   imagePullPolicy: IfNotPresent\n    terminationMessagePolicy: FallbackToLogsOnError\n
      \   command:\n      - /bin/sh\n      - -c\n      - |\n        #!/bin/sh\n        set
      -euo pipefail\n        \n        exec nice -n -18 cluster-etcd-operator readyz
      \\\n          --target=https://localhost:2379 \\\n          --listen-port=9980
      \\\n          --serving-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-NODE_NAME.crt
      \\\n          --serving-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-NODE_NAME.key
      \\\n          --client-cert-file=$(ETCDCTL_CERT) \\\n          --client-key-file=$(ETCDCTL_KEY)
      \\\n          --client-cacert-file=$(ETCDCTL_CACERT)\n    securityContext:\n
      \     privileged: true\n    ports:\n    - containerPort: 9980\n      name: readyz\n
      \     protocol: TCP\n    resources:\n      requests:\n        memory: 50Mi\n
      \       cpu: 10m\n    env:\n      - name: \"ALL_ETCD_ENDPOINTS\"\n        value:
      \"https://192.168.1.126:2379\"\n      - name: \"ETCDCTL_API\"\n        value:
      \"3\"\n      - name: \"ETCDCTL_CACERT\"\n        value: \"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt\"\n
      \     - name: \"ETCDCTL_CERT\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt\"\n
      \     - name: \"ETCDCTL_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_KEY\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key\"\n
      \     - name: \"ETCD_CIPHER_SUITES\"\n        value: \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256\"\n
      \     - name: \"ETCD_DATA_DIR\"\n        value: \"/var/lib/etcd\"\n      - name:
      \"ETCD_ELECTION_TIMEOUT\"\n        value: \"1000\"\n      - name: \"ETCD_ENABLE_PPROF\"\n
      \       value: \"true\"\n      - name: \"ETCD_EXPERIMENTAL_MAX_LEARNERS\"\n
      \       value: \"1\"\n      - name: \"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION\"\n
      \       value: \"200ms\"\n      - name: \"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL\"\n
      \       value: \"5s\"\n      - name: \"ETCD_HEARTBEAT_INTERVAL\"\n        value:
      \"100\"\n      - name: \"ETCD_IMAGE\"\n        value: \"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\"\n
      \     - name: \"ETCD_INITIAL_CLUSTER_STATE\"\n        value: \"existing\"\n
      \     - name: \"ETCD_QUOTA_BACKEND_BYTES\"\n        value: \"8589934592\"\n
      \     - name: \"ETCD_SOCKET_REUSE_ADDRESS\"\n        value: \"true\"\n      -
      name: \"NODE_node_ETCD_NAME\"\n        value: \"node\"\n      - name: \"NODE_node_ETCD_URL_HOST\"\n
      \       value: \"192.168.1.126\"\n      - name: \"NODE_node_IP\"\n        value:
      \"192.168.1.126\"\n    volumeMounts:\n      - mountPath: /var/log/etcd/\n        name:
      log-dir\n      - mountPath: /etc/kubernetes/static-pod-certs\n        name:
      cert-dir\n  hostNetwork: true\n  priorityClassName: system-node-critical\n  tolerations:\n
      \ - operator: \"Exists\"\n  volumes:\n    - hostPath:\n        path: /etc/kubernetes/manifests\n
      \     name: static-pod-dir\n    - hostPath:\n        path: /etc/kubernetes/static-pod-resources/etcd-pod-REVISION\n
      \     name: resource-dir\n    - hostPath:\n        path: /etc/kubernetes/static-pod-resources/etcd-certs\n
      \     name: cert-dir\n    - hostPath:\n        path: /var/lib/etcd\n        type:
      \"\"\n      name: data-dir\n    - hostPath:\n        path: /usr/local/bin\n
      \     name: usr-local-bin\n    - hostPath:\n        path: /var/log/etcd\n      name:
      log-dir\n"
    version: 4.12.0-202301311142.p0.ga9aaf7d.assembly.stream-a9aaf7d
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:28:44Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:forceRedeploymentReason: {}
          f:pod.yaml: {}
          f:version: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:28:44Z"
    name: etcd-pod
    namespace: openshift-etcd
    resourceVersion: "4359"
    uid: 87502378-d477-49ae-a320-87742b78967f
- apiVersion: v1
  data:
    forceRedeploymentReason: ""
    pod.yaml: "apiVersion: v1\nkind: Pod\nmetadata:\n  name: etcd\n  namespace: openshift-etcd\n
      \ annotations:\n    kubectl.kubernetes.io/default-container: etcd\n    target.workload.openshift.io/management:
      '{\"effect\": \"PreferredDuringScheduling\"}'\n  labels:\n    app: etcd\n    k8s-app:
      etcd\n    etcd: \"true\"\n    revision: \"REVISION\"\nspec:\n  initContainers:\n
      \   - name: setup\n      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \     imagePullPolicy: IfNotPresent\n      terminationMessagePolicy: FallbackToLogsOnError\n
      \     command:\n        - /bin/sh\n        - -c\n        - |\n          #!/bin/sh\n
      \         echo -n \"Fixing etcd log permissions.\"\n          chmod 0700 /var/log/etcd
      && touch /var/log/etcd/etcd-health-probe.log && chmod 0600 /var/log/etcd/*\n
      \     securityContext:\n        privileged: true\n      resources:\n        requests:\n
      \         memory: 50Mi\n          cpu: 5m\n      volumeMounts:\n        - mountPath:
      /var/log/etcd\n          name: log-dir\n    - name: etcd-ensure-env-vars\n      image:
      quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \     imagePullPolicy: IfNotPresent\n      terminationMessagePolicy: FallbackToLogsOnError\n
      \     command:\n        - /bin/sh\n        - -c\n        - |\n          #!/bin/sh\n
      \         set -euo pipefail\n\n          : \"${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST?not
      set}\"\n          : \"${NODE_NODE_ENVVAR_NAME_ETCD_NAME?not set}\"\n          :
      \"${NODE_NODE_ENVVAR_NAME_IP?not set}\"\n\n          # check for ipv4 addresses
      as well as ipv6 addresses with extra square brackets\n          if [[ \"${NODE_NODE_ENVVAR_NAME_IP}\"
      != \"${NODE_IP}\" && \"${NODE_NODE_ENVVAR_NAME_IP}\" != \"[${NODE_IP}]\" ]];
      then\n            # echo the error message to stderr\n            echo \"Expected
      node IP to be ${NODE_IP} got ${NODE_NODE_ENVVAR_NAME_IP}\" >&2\n            exit
      1\n          fi\n\n          # check for ipv4 addresses as well as ipv6 addresses
      with extra square brackets\n          if [[ \"${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}\"
      != \"${NODE_IP}\" && \"${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}\" != \"[${NODE_IP}]\"
      ]]; then\n            # echo the error message to stderr\n            echo \"Expected
      etcd url host to be ${NODE_IP} got ${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}\"
      >&2\n            exit 1\n          fi\n\n      resources:\n        requests:\n
      \         memory: 60Mi\n          cpu: 10m\n      securityContext:\n        privileged:
      true\n      env:\n      - name: \"ALL_ETCD_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_API\"\n        value: \"3\"\n      - name: \"ETCDCTL_CACERT\"\n
      \       value: \"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt\"\n
      \     - name: \"ETCDCTL_CERT\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt\"\n
      \     - name: \"ETCDCTL_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_KEY\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key\"\n
      \     - name: \"ETCD_CIPHER_SUITES\"\n        value: \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256\"\n
      \     - name: \"ETCD_DATA_DIR\"\n        value: \"/var/lib/etcd\"\n      - name:
      \"ETCD_ELECTION_TIMEOUT\"\n        value: \"1000\"\n      - name: \"ETCD_ENABLE_PPROF\"\n
      \       value: \"true\"\n      - name: \"ETCD_EXPERIMENTAL_MAX_LEARNERS\"\n
      \       value: \"1\"\n      - name: \"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION\"\n
      \       value: \"200ms\"\n      - name: \"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL\"\n
      \       value: \"5s\"\n      - name: \"ETCD_HEARTBEAT_INTERVAL\"\n        value:
      \"100\"\n      - name: \"ETCD_IMAGE\"\n        value: \"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\"\n
      \     - name: \"ETCD_INITIAL_CLUSTER_STATE\"\n        value: \"existing\"\n
      \     - name: \"ETCD_QUOTA_BACKEND_BYTES\"\n        value: \"8589934592\"\n
      \     - name: \"ETCD_SOCKET_REUSE_ADDRESS\"\n        value: \"true\"\n      -
      name: \"NODE_node_ETCD_NAME\"\n        value: \"node\"\n      - name: \"NODE_node_ETCD_URL_HOST\"\n
      \       value: \"192.168.1.126\"\n      - name: \"NODE_node_IP\"\n        value:
      \"192.168.1.126\"\n      - name: NODE_IP\n        valueFrom:\n          fieldRef:\n
      \           fieldPath: status.podIP\n    - name: etcd-resources-copy\n      image:
      quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \     imagePullPolicy: IfNotPresent\n      terminationMessagePolicy: FallbackToLogsOnError\n
      \     command:\n        - /bin/sh\n        - -c\n        - |\n          #!/bin/sh\n
      \         set -euo pipefail\n\n          rm -f $(grep -l '^### Created by cluster-etcd-operator'
      /usr/local/bin/*)\n          cp -p /etc/kubernetes/static-pod-certs/configmaps/etcd-scripts/*.sh
      /usr/local/bin\n\n      resources:\n        requests:\n          memory: 60Mi\n
      \         cpu: 10m\n      securityContext:\n        privileged: true\n      volumeMounts:\n
      \       - mountPath: /etc/kubernetes/static-pod-resources\n          name: resource-dir\n
      \       - mountPath: /etc/kubernetes/static-pod-certs\n          name: cert-dir\n
      \       - mountPath: /usr/local/bin\n          name: usr-local-bin\n  containers:\n
      \ # The etcdctl container should always be first. It is intended to be used\n
      \ # to open a remote shell via `oc rsh` that is ready to run `etcdctl`.\n  -
      name: etcdctl\n    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \   imagePullPolicy: IfNotPresent\n    terminationMessagePolicy: FallbackToLogsOnError\n
      \   command:\n      - \"/bin/bash\"\n      - \"-c\"\n      - \"trap TERM INT;
      sleep infinity & wait\"\n    resources:\n      requests:\n        memory: 60Mi\n
      \       cpu: 10m\n    volumeMounts:\n      - mountPath: /etc/kubernetes/manifests\n
      \       name: static-pod-dir\n      - mountPath: /etc/kubernetes/static-pod-resources\n
      \       name: resource-dir\n      - mountPath: /etc/kubernetes/static-pod-certs\n
      \       name: cert-dir\n      - mountPath: /var/lib/etcd/\n        name: data-dir\n
      \   env:\n      - name: \"ALL_ETCD_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_API\"\n        value: \"3\"\n      - name: \"ETCDCTL_CACERT\"\n
      \       value: \"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt\"\n
      \     - name: \"ETCDCTL_CERT\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt\"\n
      \     - name: \"ETCDCTL_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_KEY\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key\"\n
      \     - name: \"ETCD_CIPHER_SUITES\"\n        value: \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256\"\n
      \     - name: \"ETCD_DATA_DIR\"\n        value: \"/var/lib/etcd\"\n      - name:
      \"ETCD_ELECTION_TIMEOUT\"\n        value: \"1000\"\n      - name: \"ETCD_ENABLE_PPROF\"\n
      \       value: \"true\"\n      - name: \"ETCD_EXPERIMENTAL_MAX_LEARNERS\"\n
      \       value: \"1\"\n      - name: \"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION\"\n
      \       value: \"200ms\"\n      - name: \"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL\"\n
      \       value: \"5s\"\n      - name: \"ETCD_HEARTBEAT_INTERVAL\"\n        value:
      \"100\"\n      - name: \"ETCD_IMAGE\"\n        value: \"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\"\n
      \     - name: \"ETCD_INITIAL_CLUSTER_STATE\"\n        value: \"existing\"\n
      \     - name: \"ETCD_QUOTA_BACKEND_BYTES\"\n        value: \"8589934592\"\n
      \     - name: \"ETCD_SOCKET_REUSE_ADDRESS\"\n        value: \"true\"\n      -
      name: \"NODE_node_ETCD_NAME\"\n        value: \"node\"\n      - name: \"NODE_node_ETCD_URL_HOST\"\n
      \       value: \"192.168.1.126\"\n      - name: \"NODE_node_IP\"\n        value:
      \"192.168.1.126\"\n      - name: \"ETCD_STATIC_POD_VERSION\"\n        value:
      \"REVISION\"\n  - name: etcd\n    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \   imagePullPolicy: IfNotPresent\n    terminationMessagePolicy: FallbackToLogsOnError\n
      \   command:\n      - /bin/sh\n      - -c\n      - |\n        #!/bin/sh\n        set
      -euo pipefail\n\n        etcdctl member list || true\n\n        # this has a
      non-zero return code if the command is non-zero.  If you use an export first,
      it doesn't and you\n        # will succeed when you should fail.\n        ETCD_INITIAL_CLUSTER=$(discover-etcd-initial-cluster
      \\\n          --cacert=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      \\\n          --cert=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt
      \\\n          --key=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key
      \\\n          --endpoints=${ALL_ETCD_ENDPOINTS} \\\n          --data-dir=/var/lib/etcd
      \\\n          --target-peer-url-host=${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}
      \\\n          --target-name=NODE_NAME)\n        export ETCD_INITIAL_CLUSTER\n\n
      \       # we cannot use the \"normal\" port conflict initcontainer because when
      we upgrade, the existing static pod will never yield,\n        # so we do the
      detection in etcd container itself.\n        echo -n \"Waiting for ports 2379,
      2380 and 9978 to be released.\"\n        time while [ -n \"$(ss -Htan '( sport
      = 2379 or sport = 2380 or sport = 9978 )')\" ]; do\n          echo -n \".\"\n
      \         sleep 1\n        done\n\n        export ETCD_NAME=${NODE_NODE_ENVVAR_NAME_ETCD_NAME}\n
      \       env | grep ETCD | grep -v NODE\n\n        set -x\n        # See https://etcd.io/docs/v3.4.0/tuning/
      for why we use ionice\n        exec nice -n -19 ionice -c2 -n0 etcd \\\n          --logger=zap
      \\\n          --log-level=info \\\n          --experimental-initial-corrupt-check=true
      \\\n          --initial-advertise-peer-urls=https://${NODE_NODE_ENVVAR_NAME_IP}:2380
      \\\n          --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-NODE_NAME.crt
      \\\n          --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-NODE_NAME.key
      \\\n          --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      \\\n          --client-cert-auth=true \\\n          --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt
      \\\n          --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key
      \\\n          --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt
      \\\n          --peer-client-cert-auth=true \\\n          --advertise-client-urls=https://${NODE_NODE_ENVVAR_NAME_IP}:2379
      \\\n          --listen-client-urls=https://0.0.0.0:2379,unixs://${NODE_NODE_ENVVAR_NAME_IP}:0
      \\\n          --listen-peer-urls=https://0.0.0.0:2380 \\\n          --metrics=extensive
      \\\n          --listen-metrics-urls=https://0.0.0.0:9978 ||  mv /etc/kubernetes/etcd-backup-dir/etcd-member.yaml
      /etc/kubernetes/manifests\n    env:\n      - name: \"ALL_ETCD_ENDPOINTS\"\n
      \       value: \"https://192.168.1.126:2379\"\n      - name: \"ETCDCTL_API\"\n
      \       value: \"3\"\n      - name: \"ETCDCTL_CACERT\"\n        value: \"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt\"\n
      \     - name: \"ETCDCTL_CERT\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt\"\n
      \     - name: \"ETCDCTL_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_KEY\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key\"\n
      \     - name: \"ETCD_CIPHER_SUITES\"\n        value: \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256\"\n
      \     - name: \"ETCD_DATA_DIR\"\n        value: \"/var/lib/etcd\"\n      - name:
      \"ETCD_ELECTION_TIMEOUT\"\n        value: \"1000\"\n      - name: \"ETCD_ENABLE_PPROF\"\n
      \       value: \"true\"\n      - name: \"ETCD_EXPERIMENTAL_MAX_LEARNERS\"\n
      \       value: \"1\"\n      - name: \"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION\"\n
      \       value: \"200ms\"\n      - name: \"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL\"\n
      \       value: \"5s\"\n      - name: \"ETCD_HEARTBEAT_INTERVAL\"\n        value:
      \"100\"\n      - name: \"ETCD_IMAGE\"\n        value: \"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\"\n
      \     - name: \"ETCD_INITIAL_CLUSTER_STATE\"\n        value: \"existing\"\n
      \     - name: \"ETCD_QUOTA_BACKEND_BYTES\"\n        value: \"8589934592\"\n
      \     - name: \"ETCD_SOCKET_REUSE_ADDRESS\"\n        value: \"true\"\n      -
      name: \"NODE_node_ETCD_NAME\"\n        value: \"node\"\n      - name: \"NODE_node_ETCD_URL_HOST\"\n
      \       value: \"192.168.1.126\"\n      - name: \"NODE_node_IP\"\n        value:
      \"192.168.1.126\"\n      - name: \"ETCD_STATIC_POD_VERSION\"\n        value:
      \"REVISION\"\n    resources:\n      requests:\n        memory: 600Mi\n        cpu:
      300m\n    readinessProbe:\n      httpGet:\n        port: 9980\n        path:
      readyz\n        scheme: HTTPS\n      timeoutSeconds: 10\n      failureThreshold:
      3\n      periodSeconds: 5\n      successThreshold: 1\n    livenessProbe:\n      httpGet:\n
      \       path: healthz\n        port: 9980\n        scheme: HTTPS\n      timeoutSeconds:
      10\n      periodSeconds: 5\n      successThreshold: 1\n      failureThreshold:
      3\n    startupProbe:\n      httpGet:\n        port: 9980\n        path: readyz\n
      \       scheme: HTTPS\n      initialDelaySeconds: 10\n      timeoutSeconds:
      1\n      periodSeconds: 10\n      successThreshold: 1\n      failureThreshold:
      18\n    securityContext:\n      privileged: true\n    volumeMounts:\n      -
      mountPath: /etc/kubernetes/manifests\n        name: static-pod-dir\n      -
      mountPath: /etc/kubernetes/static-pod-resources\n        name: resource-dir\n
      \     - mountPath: /etc/kubernetes/static-pod-certs\n        name: cert-dir\n
      \     - mountPath: /var/lib/etcd/\n        name: data-dir\n  - name: etcd-metrics\n
      \   image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \   imagePullPolicy: IfNotPresent\n    terminationMessagePolicy: FallbackToLogsOnError\n
      \   command:\n      - /bin/sh\n      - -c\n      - |\n        #!/bin/sh\n        set
      -euo pipefail\n\n        export ETCD_NAME=${NODE_NODE_ENVVAR_NAME_ETCD_NAME}\n\n
      \       exec nice -n -18 etcd grpc-proxy start \\\n          --endpoints https://${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}:9978
      \\\n          --metrics-addr https://0.0.0.0:9979 \\\n          --listen-addr
      127.0.0.1:9977 \\\n          --advertise-client-url \"\"  \\\n          --key
      /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key
      \\\n          --key-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-NODE_NAME.key
      \\\n          --cert /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt
      \\\n          --cert-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-NODE_NAME.crt
      \\\n          --cacert /etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt
      \\\n          --trusted-ca-file /etc/kubernetes/static-pod-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt
      \\\n          --listen-cipher-suites TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256\n
      \   env:\n      - name: \"ALL_ETCD_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_API\"\n        value: \"3\"\n      - name: \"ETCDCTL_CACERT\"\n
      \       value: \"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt\"\n
      \     - name: \"ETCDCTL_CERT\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt\"\n
      \     - name: \"ETCDCTL_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_KEY\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key\"\n
      \     - name: \"ETCD_CIPHER_SUITES\"\n        value: \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256\"\n
      \     - name: \"ETCD_DATA_DIR\"\n        value: \"/var/lib/etcd\"\n      - name:
      \"ETCD_ELECTION_TIMEOUT\"\n        value: \"1000\"\n      - name: \"ETCD_ENABLE_PPROF\"\n
      \       value: \"true\"\n      - name: \"ETCD_EXPERIMENTAL_MAX_LEARNERS\"\n
      \       value: \"1\"\n      - name: \"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION\"\n
      \       value: \"200ms\"\n      - name: \"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL\"\n
      \       value: \"5s\"\n      - name: \"ETCD_HEARTBEAT_INTERVAL\"\n        value:
      \"100\"\n      - name: \"ETCD_IMAGE\"\n        value: \"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\"\n
      \     - name: \"ETCD_INITIAL_CLUSTER_STATE\"\n        value: \"existing\"\n
      \     - name: \"ETCD_QUOTA_BACKEND_BYTES\"\n        value: \"8589934592\"\n
      \     - name: \"ETCD_SOCKET_REUSE_ADDRESS\"\n        value: \"true\"\n      -
      name: \"NODE_node_ETCD_NAME\"\n        value: \"node\"\n      - name: \"NODE_node_ETCD_URL_HOST\"\n
      \       value: \"192.168.1.126\"\n      - name: \"NODE_node_IP\"\n        value:
      \"192.168.1.126\"\n      - name: \"ETCD_STATIC_POD_VERSION\"\n        value:
      \"REVISION\"\n    resources:\n      requests:\n        memory: 200Mi\n        cpu:
      40m\n    securityContext:\n      privileged: true\n    volumeMounts:\n      -
      mountPath: /etc/kubernetes/static-pod-resources\n        name: resource-dir\n
      \     - mountPath: /etc/kubernetes/static-pod-certs\n        name: cert-dir\n
      \     - mountPath: /var/lib/etcd/\n        name: data-dir\n  - name: etcd-readyz\n
      \   image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:8090f9dd771f4f292e508b5ffca3aca3b4e6226aed25e131e49a9b6596b0b451\n
      \   imagePullPolicy: IfNotPresent\n    terminationMessagePolicy: FallbackToLogsOnError\n
      \   command:\n      - /bin/sh\n      - -c\n      - |\n        #!/bin/sh\n        set
      -euo pipefail\n        \n        exec nice -n -18 cluster-etcd-operator readyz
      \\\n          --target=https://localhost:2379 \\\n          --listen-port=9980
      \\\n          --serving-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-NODE_NAME.crt
      \\\n          --serving-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-NODE_NAME.key
      \\\n          --client-cert-file=$(ETCDCTL_CERT) \\\n          --client-key-file=$(ETCDCTL_KEY)
      \\\n          --client-cacert-file=$(ETCDCTL_CACERT)\n    securityContext:\n
      \     privileged: true\n    ports:\n    - containerPort: 9980\n      name: readyz\n
      \     protocol: TCP\n    resources:\n      requests:\n        memory: 50Mi\n
      \       cpu: 10m\n    env:\n      - name: \"ALL_ETCD_ENDPOINTS\"\n        value:
      \"https://192.168.1.126:2379\"\n      - name: \"ETCDCTL_API\"\n        value:
      \"3\"\n      - name: \"ETCDCTL_CACERT\"\n        value: \"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt\"\n
      \     - name: \"ETCDCTL_CERT\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt\"\n
      \     - name: \"ETCDCTL_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_KEY\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key\"\n
      \     - name: \"ETCD_CIPHER_SUITES\"\n        value: \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256\"\n
      \     - name: \"ETCD_DATA_DIR\"\n        value: \"/var/lib/etcd\"\n      - name:
      \"ETCD_ELECTION_TIMEOUT\"\n        value: \"1000\"\n      - name: \"ETCD_ENABLE_PPROF\"\n
      \       value: \"true\"\n      - name: \"ETCD_EXPERIMENTAL_MAX_LEARNERS\"\n
      \       value: \"1\"\n      - name: \"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION\"\n
      \       value: \"200ms\"\n      - name: \"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL\"\n
      \       value: \"5s\"\n      - name: \"ETCD_HEARTBEAT_INTERVAL\"\n        value:
      \"100\"\n      - name: \"ETCD_IMAGE\"\n        value: \"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\"\n
      \     - name: \"ETCD_INITIAL_CLUSTER_STATE\"\n        value: \"existing\"\n
      \     - name: \"ETCD_QUOTA_BACKEND_BYTES\"\n        value: \"8589934592\"\n
      \     - name: \"ETCD_SOCKET_REUSE_ADDRESS\"\n        value: \"true\"\n      -
      name: \"NODE_node_ETCD_NAME\"\n        value: \"node\"\n      - name: \"NODE_node_ETCD_URL_HOST\"\n
      \       value: \"192.168.1.126\"\n      - name: \"NODE_node_IP\"\n        value:
      \"192.168.1.126\"\n    volumeMounts:\n      - mountPath: /var/log/etcd/\n        name:
      log-dir\n      - mountPath: /etc/kubernetes/static-pod-certs\n        name:
      cert-dir\n  hostNetwork: true\n  priorityClassName: system-node-critical\n  tolerations:\n
      \ - operator: \"Exists\"\n  volumes:\n    - hostPath:\n        path: /etc/kubernetes/manifests\n
      \     name: static-pod-dir\n    - hostPath:\n        path: /etc/kubernetes/static-pod-resources/etcd-pod-REVISION\n
      \     name: resource-dir\n    - hostPath:\n        path: /etc/kubernetes/static-pod-resources/etcd-certs\n
      \     name: cert-dir\n    - hostPath:\n        path: /var/lib/etcd\n        type:
      \"\"\n      name: data-dir\n    - hostPath:\n        path: /usr/local/bin\n
      \     name: usr-local-bin\n    - hostPath:\n        path: /var/log/etcd\n      name:
      log-dir\n"
    version: 4.12.0-202301311142.p0.ga9aaf7d.assembly.stream-a9aaf7d
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:29:23Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:forceRedeploymentReason: {}
          f:pod.yaml: {}
          f:version: {}
        f:metadata:
          f:ownerReferences:
            .: {}
            k:{"uid":"665d0fd4-516e-4618-8457-4a82d15bfe9b"}: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:29:23Z"
    name: etcd-pod-2
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-2
      uid: 665d0fd4-516e-4618-8457-4a82d15bfe9b
    resourceVersion: "4923"
    uid: f46bc73c-2d58-4e30-8ed8-1ca6fd2c8e75
- apiVersion: v1
  data:
    forceRedeploymentReason: ""
    pod.yaml: "apiVersion: v1\nkind: Pod\nmetadata:\n  name: etcd\n  namespace: openshift-etcd\n
      \ annotations:\n    kubectl.kubernetes.io/default-container: etcd\n    target.workload.openshift.io/management:
      '{\"effect\": \"PreferredDuringScheduling\"}'\n  labels:\n    app: etcd\n    k8s-app:
      etcd\n    etcd: \"true\"\n    revision: \"REVISION\"\nspec:\n  initContainers:\n
      \   - name: setup\n      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \     imagePullPolicy: IfNotPresent\n      terminationMessagePolicy: FallbackToLogsOnError\n
      \     command:\n        - /bin/sh\n        - -c\n        - |\n          #!/bin/sh\n
      \         echo -n \"Fixing etcd log permissions.\"\n          chmod 0700 /var/log/etcd
      && touch /var/log/etcd/etcd-health-probe.log && chmod 0600 /var/log/etcd/*\n
      \     securityContext:\n        privileged: true\n      resources:\n        requests:\n
      \         memory: 50Mi\n          cpu: 5m\n      volumeMounts:\n        - mountPath:
      /var/log/etcd\n          name: log-dir\n    - name: etcd-ensure-env-vars\n      image:
      quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \     imagePullPolicy: IfNotPresent\n      terminationMessagePolicy: FallbackToLogsOnError\n
      \     command:\n        - /bin/sh\n        - -c\n        - |\n          #!/bin/sh\n
      \         set -euo pipefail\n\n          : \"${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST?not
      set}\"\n          : \"${NODE_NODE_ENVVAR_NAME_ETCD_NAME?not set}\"\n          :
      \"${NODE_NODE_ENVVAR_NAME_IP?not set}\"\n\n          # check for ipv4 addresses
      as well as ipv6 addresses with extra square brackets\n          if [[ \"${NODE_NODE_ENVVAR_NAME_IP}\"
      != \"${NODE_IP}\" && \"${NODE_NODE_ENVVAR_NAME_IP}\" != \"[${NODE_IP}]\" ]];
      then\n            # echo the error message to stderr\n            echo \"Expected
      node IP to be ${NODE_IP} got ${NODE_NODE_ENVVAR_NAME_IP}\" >&2\n            exit
      1\n          fi\n\n          # check for ipv4 addresses as well as ipv6 addresses
      with extra square brackets\n          if [[ \"${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}\"
      != \"${NODE_IP}\" && \"${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}\" != \"[${NODE_IP}]\"
      ]]; then\n            # echo the error message to stderr\n            echo \"Expected
      etcd url host to be ${NODE_IP} got ${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}\"
      >&2\n            exit 1\n          fi\n\n      resources:\n        requests:\n
      \         memory: 60Mi\n          cpu: 10m\n      securityContext:\n        privileged:
      true\n      env:\n      - name: \"ALL_ETCD_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_API\"\n        value: \"3\"\n      - name: \"ETCDCTL_CACERT\"\n
      \       value: \"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt\"\n
      \     - name: \"ETCDCTL_CERT\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt\"\n
      \     - name: \"ETCDCTL_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_KEY\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key\"\n
      \     - name: \"ETCD_CIPHER_SUITES\"\n        value: \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256\"\n
      \     - name: \"ETCD_DATA_DIR\"\n        value: \"/var/lib/etcd\"\n      - name:
      \"ETCD_ELECTION_TIMEOUT\"\n        value: \"1000\"\n      - name: \"ETCD_ENABLE_PPROF\"\n
      \       value: \"true\"\n      - name: \"ETCD_EXPERIMENTAL_MAX_LEARNERS\"\n
      \       value: \"1\"\n      - name: \"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION\"\n
      \       value: \"200ms\"\n      - name: \"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL\"\n
      \       value: \"5s\"\n      - name: \"ETCD_HEARTBEAT_INTERVAL\"\n        value:
      \"100\"\n      - name: \"ETCD_IMAGE\"\n        value: \"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\"\n
      \     - name: \"ETCD_INITIAL_CLUSTER_STATE\"\n        value: \"existing\"\n
      \     - name: \"ETCD_QUOTA_BACKEND_BYTES\"\n        value: \"8589934592\"\n
      \     - name: \"ETCD_SOCKET_REUSE_ADDRESS\"\n        value: \"true\"\n      -
      name: \"NODE_node_ETCD_NAME\"\n        value: \"node\"\n      - name: \"NODE_node_ETCD_URL_HOST\"\n
      \       value: \"192.168.1.126\"\n      - name: \"NODE_node_IP\"\n        value:
      \"192.168.1.126\"\n      - name: NODE_IP\n        valueFrom:\n          fieldRef:\n
      \           fieldPath: status.podIP\n    - name: etcd-resources-copy\n      image:
      quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \     imagePullPolicy: IfNotPresent\n      terminationMessagePolicy: FallbackToLogsOnError\n
      \     command:\n        - /bin/sh\n        - -c\n        - |\n          #!/bin/sh\n
      \         set -euo pipefail\n\n          rm -f $(grep -l '^### Created by cluster-etcd-operator'
      /usr/local/bin/*)\n          cp -p /etc/kubernetes/static-pod-certs/configmaps/etcd-scripts/*.sh
      /usr/local/bin\n\n      resources:\n        requests:\n          memory: 60Mi\n
      \         cpu: 10m\n      securityContext:\n        privileged: true\n      volumeMounts:\n
      \       - mountPath: /etc/kubernetes/static-pod-resources\n          name: resource-dir\n
      \       - mountPath: /etc/kubernetes/static-pod-certs\n          name: cert-dir\n
      \       - mountPath: /usr/local/bin\n          name: usr-local-bin\n  containers:\n
      \ # The etcdctl container should always be first. It is intended to be used\n
      \ # to open a remote shell via `oc rsh` that is ready to run `etcdctl`.\n  -
      name: etcdctl\n    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \   imagePullPolicy: IfNotPresent\n    terminationMessagePolicy: FallbackToLogsOnError\n
      \   command:\n      - \"/bin/bash\"\n      - \"-c\"\n      - \"trap TERM INT;
      sleep infinity & wait\"\n    resources:\n      requests:\n        memory: 60Mi\n
      \       cpu: 10m\n    volumeMounts:\n      - mountPath: /etc/kubernetes/manifests\n
      \       name: static-pod-dir\n      - mountPath: /etc/kubernetes/static-pod-resources\n
      \       name: resource-dir\n      - mountPath: /etc/kubernetes/static-pod-certs\n
      \       name: cert-dir\n      - mountPath: /var/lib/etcd/\n        name: data-dir\n
      \   env:\n      - name: \"ALL_ETCD_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_API\"\n        value: \"3\"\n      - name: \"ETCDCTL_CACERT\"\n
      \       value: \"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt\"\n
      \     - name: \"ETCDCTL_CERT\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt\"\n
      \     - name: \"ETCDCTL_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_KEY\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key\"\n
      \     - name: \"ETCD_CIPHER_SUITES\"\n        value: \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256\"\n
      \     - name: \"ETCD_DATA_DIR\"\n        value: \"/var/lib/etcd\"\n      - name:
      \"ETCD_ELECTION_TIMEOUT\"\n        value: \"1000\"\n      - name: \"ETCD_ENABLE_PPROF\"\n
      \       value: \"true\"\n      - name: \"ETCD_EXPERIMENTAL_MAX_LEARNERS\"\n
      \       value: \"1\"\n      - name: \"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION\"\n
      \       value: \"200ms\"\n      - name: \"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL\"\n
      \       value: \"5s\"\n      - name: \"ETCD_HEARTBEAT_INTERVAL\"\n        value:
      \"100\"\n      - name: \"ETCD_IMAGE\"\n        value: \"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\"\n
      \     - name: \"ETCD_INITIAL_CLUSTER_STATE\"\n        value: \"existing\"\n
      \     - name: \"ETCD_QUOTA_BACKEND_BYTES\"\n        value: \"8589934592\"\n
      \     - name: \"ETCD_SOCKET_REUSE_ADDRESS\"\n        value: \"true\"\n      -
      name: \"NODE_node_ETCD_NAME\"\n        value: \"node\"\n      - name: \"NODE_node_ETCD_URL_HOST\"\n
      \       value: \"192.168.1.126\"\n      - name: \"NODE_node_IP\"\n        value:
      \"192.168.1.126\"\n      - name: \"ETCD_STATIC_POD_VERSION\"\n        value:
      \"REVISION\"\n  - name: etcd\n    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \   imagePullPolicy: IfNotPresent\n    terminationMessagePolicy: FallbackToLogsOnError\n
      \   command:\n      - /bin/sh\n      - -c\n      - |\n        #!/bin/sh\n        set
      -euo pipefail\n\n        etcdctl member list || true\n\n        # this has a
      non-zero return code if the command is non-zero.  If you use an export first,
      it doesn't and you\n        # will succeed when you should fail.\n        ETCD_INITIAL_CLUSTER=$(discover-etcd-initial-cluster
      \\\n          --cacert=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      \\\n          --cert=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt
      \\\n          --key=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key
      \\\n          --endpoints=${ALL_ETCD_ENDPOINTS} \\\n          --data-dir=/var/lib/etcd
      \\\n          --target-peer-url-host=${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}
      \\\n          --target-name=NODE_NAME)\n        export ETCD_INITIAL_CLUSTER\n\n
      \       # we cannot use the \"normal\" port conflict initcontainer because when
      we upgrade, the existing static pod will never yield,\n        # so we do the
      detection in etcd container itself.\n        echo -n \"Waiting for ports 2379,
      2380 and 9978 to be released.\"\n        time while [ -n \"$(ss -Htan '( sport
      = 2379 or sport = 2380 or sport = 9978 )')\" ]; do\n          echo -n \".\"\n
      \         sleep 1\n        done\n\n        export ETCD_NAME=${NODE_NODE_ENVVAR_NAME_ETCD_NAME}\n
      \       env | grep ETCD | grep -v NODE\n\n        set -x\n        # See https://etcd.io/docs/v3.4.0/tuning/
      for why we use ionice\n        exec nice -n -19 ionice -c2 -n0 etcd \\\n          --logger=zap
      \\\n          --log-level=info \\\n          --experimental-initial-corrupt-check=true
      \\\n          --initial-advertise-peer-urls=https://${NODE_NODE_ENVVAR_NAME_IP}:2380
      \\\n          --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-NODE_NAME.crt
      \\\n          --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-NODE_NAME.key
      \\\n          --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      \\\n          --client-cert-auth=true \\\n          --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt
      \\\n          --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key
      \\\n          --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt
      \\\n          --peer-client-cert-auth=true \\\n          --advertise-client-urls=https://${NODE_NODE_ENVVAR_NAME_IP}:2379
      \\\n          --listen-client-urls=https://0.0.0.0:2379,unixs://${NODE_NODE_ENVVAR_NAME_IP}:0
      \\\n          --listen-peer-urls=https://0.0.0.0:2380 \\\n          --metrics=extensive
      \\\n          --listen-metrics-urls=https://0.0.0.0:9978 ||  mv /etc/kubernetes/etcd-backup-dir/etcd-member.yaml
      /etc/kubernetes/manifests\n    env:\n      - name: \"ALL_ETCD_ENDPOINTS\"\n
      \       value: \"https://192.168.1.126:2379\"\n      - name: \"ETCDCTL_API\"\n
      \       value: \"3\"\n      - name: \"ETCDCTL_CACERT\"\n        value: \"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt\"\n
      \     - name: \"ETCDCTL_CERT\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt\"\n
      \     - name: \"ETCDCTL_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_KEY\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key\"\n
      \     - name: \"ETCD_CIPHER_SUITES\"\n        value: \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256\"\n
      \     - name: \"ETCD_DATA_DIR\"\n        value: \"/var/lib/etcd\"\n      - name:
      \"ETCD_ELECTION_TIMEOUT\"\n        value: \"1000\"\n      - name: \"ETCD_ENABLE_PPROF\"\n
      \       value: \"true\"\n      - name: \"ETCD_EXPERIMENTAL_MAX_LEARNERS\"\n
      \       value: \"1\"\n      - name: \"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION\"\n
      \       value: \"200ms\"\n      - name: \"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL\"\n
      \       value: \"5s\"\n      - name: \"ETCD_HEARTBEAT_INTERVAL\"\n        value:
      \"100\"\n      - name: \"ETCD_IMAGE\"\n        value: \"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\"\n
      \     - name: \"ETCD_INITIAL_CLUSTER_STATE\"\n        value: \"existing\"\n
      \     - name: \"ETCD_QUOTA_BACKEND_BYTES\"\n        value: \"8589934592\"\n
      \     - name: \"ETCD_SOCKET_REUSE_ADDRESS\"\n        value: \"true\"\n      -
      name: \"NODE_node_ETCD_NAME\"\n        value: \"node\"\n      - name: \"NODE_node_ETCD_URL_HOST\"\n
      \       value: \"192.168.1.126\"\n      - name: \"NODE_node_IP\"\n        value:
      \"192.168.1.126\"\n      - name: \"ETCD_STATIC_POD_VERSION\"\n        value:
      \"REVISION\"\n    resources:\n      requests:\n        memory: 600Mi\n        cpu:
      300m\n    readinessProbe:\n      httpGet:\n        port: 9980\n        path:
      readyz\n        scheme: HTTPS\n      timeoutSeconds: 10\n      failureThreshold:
      3\n      periodSeconds: 5\n      successThreshold: 1\n    livenessProbe:\n      httpGet:\n
      \       path: healthz\n        port: 9980\n        scheme: HTTPS\n      timeoutSeconds:
      10\n      periodSeconds: 5\n      successThreshold: 1\n      failureThreshold:
      3\n    startupProbe:\n      httpGet:\n        port: 9980\n        path: readyz\n
      \       scheme: HTTPS\n      initialDelaySeconds: 10\n      timeoutSeconds:
      1\n      periodSeconds: 10\n      successThreshold: 1\n      failureThreshold:
      18\n    securityContext:\n      privileged: true\n    volumeMounts:\n      -
      mountPath: /etc/kubernetes/manifests\n        name: static-pod-dir\n      -
      mountPath: /etc/kubernetes/static-pod-resources\n        name: resource-dir\n
      \     - mountPath: /etc/kubernetes/static-pod-certs\n        name: cert-dir\n
      \     - mountPath: /var/lib/etcd/\n        name: data-dir\n  - name: etcd-metrics\n
      \   image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\n
      \   imagePullPolicy: IfNotPresent\n    terminationMessagePolicy: FallbackToLogsOnError\n
      \   command:\n      - /bin/sh\n      - -c\n      - |\n        #!/bin/sh\n        set
      -euo pipefail\n\n        export ETCD_NAME=${NODE_NODE_ENVVAR_NAME_ETCD_NAME}\n\n
      \       exec nice -n -18 etcd grpc-proxy start \\\n          --endpoints https://${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}:9978
      \\\n          --metrics-addr https://0.0.0.0:9979 \\\n          --listen-addr
      127.0.0.1:9977 \\\n          --advertise-client-url \"\"  \\\n          --key
      /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key
      \\\n          --key-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-NODE_NAME.key
      \\\n          --cert /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt
      \\\n          --cert-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-NODE_NAME.crt
      \\\n          --cacert /etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt
      \\\n          --trusted-ca-file /etc/kubernetes/static-pod-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt
      \\\n          --listen-cipher-suites TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256\n
      \   env:\n      - name: \"ALL_ETCD_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_API\"\n        value: \"3\"\n      - name: \"ETCDCTL_CACERT\"\n
      \       value: \"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt\"\n
      \     - name: \"ETCDCTL_CERT\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt\"\n
      \     - name: \"ETCDCTL_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_KEY\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key\"\n
      \     - name: \"ETCD_CIPHER_SUITES\"\n        value: \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256\"\n
      \     - name: \"ETCD_DATA_DIR\"\n        value: \"/var/lib/etcd\"\n      - name:
      \"ETCD_ELECTION_TIMEOUT\"\n        value: \"1000\"\n      - name: \"ETCD_ENABLE_PPROF\"\n
      \       value: \"true\"\n      - name: \"ETCD_EXPERIMENTAL_MAX_LEARNERS\"\n
      \       value: \"1\"\n      - name: \"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION\"\n
      \       value: \"200ms\"\n      - name: \"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL\"\n
      \       value: \"5s\"\n      - name: \"ETCD_HEARTBEAT_INTERVAL\"\n        value:
      \"100\"\n      - name: \"ETCD_IMAGE\"\n        value: \"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\"\n
      \     - name: \"ETCD_INITIAL_CLUSTER_STATE\"\n        value: \"existing\"\n
      \     - name: \"ETCD_QUOTA_BACKEND_BYTES\"\n        value: \"8589934592\"\n
      \     - name: \"ETCD_SOCKET_REUSE_ADDRESS\"\n        value: \"true\"\n      -
      name: \"NODE_node_ETCD_NAME\"\n        value: \"node\"\n      - name: \"NODE_node_ETCD_URL_HOST\"\n
      \       value: \"192.168.1.126\"\n      - name: \"NODE_node_IP\"\n        value:
      \"192.168.1.126\"\n      - name: \"ETCD_STATIC_POD_VERSION\"\n        value:
      \"REVISION\"\n    resources:\n      requests:\n        memory: 200Mi\n        cpu:
      40m\n    securityContext:\n      privileged: true\n    volumeMounts:\n      -
      mountPath: /etc/kubernetes/static-pod-resources\n        name: resource-dir\n
      \     - mountPath: /etc/kubernetes/static-pod-certs\n        name: cert-dir\n
      \     - mountPath: /var/lib/etcd/\n        name: data-dir\n  - name: etcd-readyz\n
      \   image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:8090f9dd771f4f292e508b5ffca3aca3b4e6226aed25e131e49a9b6596b0b451\n
      \   imagePullPolicy: IfNotPresent\n    terminationMessagePolicy: FallbackToLogsOnError\n
      \   command:\n      - /bin/sh\n      - -c\n      - |\n        #!/bin/sh\n        set
      -euo pipefail\n        \n        exec nice -n -18 cluster-etcd-operator readyz
      \\\n          --target=https://localhost:2379 \\\n          --listen-port=9980
      \\\n          --serving-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-NODE_NAME.crt
      \\\n          --serving-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-NODE_NAME.key
      \\\n          --client-cert-file=$(ETCDCTL_CERT) \\\n          --client-key-file=$(ETCDCTL_KEY)
      \\\n          --client-cacert-file=$(ETCDCTL_CACERT)\n    securityContext:\n
      \     privileged: true\n    ports:\n    - containerPort: 9980\n      name: readyz\n
      \     protocol: TCP\n    resources:\n      requests:\n        memory: 50Mi\n
      \       cpu: 10m\n    env:\n      - name: \"ALL_ETCD_ENDPOINTS\"\n        value:
      \"https://192.168.1.126:2379\"\n      - name: \"ETCDCTL_API\"\n        value:
      \"3\"\n      - name: \"ETCDCTL_CACERT\"\n        value: \"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt\"\n
      \     - name: \"ETCDCTL_CERT\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt\"\n
      \     - name: \"ETCDCTL_ENDPOINTS\"\n        value: \"https://192.168.1.126:2379\"\n
      \     - name: \"ETCDCTL_KEY\"\n        value: \"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key\"\n
      \     - name: \"ETCD_CIPHER_SUITES\"\n        value: \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256\"\n
      \     - name: \"ETCD_DATA_DIR\"\n        value: \"/var/lib/etcd\"\n      - name:
      \"ETCD_ELECTION_TIMEOUT\"\n        value: \"1000\"\n      - name: \"ETCD_ENABLE_PPROF\"\n
      \       value: \"true\"\n      - name: \"ETCD_EXPERIMENTAL_MAX_LEARNERS\"\n
      \       value: \"1\"\n      - name: \"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION\"\n
      \       value: \"200ms\"\n      - name: \"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL\"\n
      \       value: \"5s\"\n      - name: \"ETCD_HEARTBEAT_INTERVAL\"\n        value:
      \"100\"\n      - name: \"ETCD_IMAGE\"\n        value: \"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2\"\n
      \     - name: \"ETCD_INITIAL_CLUSTER_STATE\"\n        value: \"existing\"\n
      \     - name: \"ETCD_QUOTA_BACKEND_BYTES\"\n        value: \"8589934592\"\n
      \     - name: \"ETCD_SOCKET_REUSE_ADDRESS\"\n        value: \"true\"\n      -
      name: \"NODE_node_ETCD_NAME\"\n        value: \"node\"\n      - name: \"NODE_node_ETCD_URL_HOST\"\n
      \       value: \"192.168.1.126\"\n      - name: \"NODE_node_IP\"\n        value:
      \"192.168.1.126\"\n    volumeMounts:\n      - mountPath: /var/log/etcd/\n        name:
      log-dir\n      - mountPath: /etc/kubernetes/static-pod-certs\n        name:
      cert-dir\n  hostNetwork: true\n  priorityClassName: system-node-critical\n  tolerations:\n
      \ - operator: \"Exists\"\n  volumes:\n    - hostPath:\n        path: /etc/kubernetes/manifests\n
      \     name: static-pod-dir\n    - hostPath:\n        path: /etc/kubernetes/static-pod-resources/etcd-pod-REVISION\n
      \     name: resource-dir\n    - hostPath:\n        path: /etc/kubernetes/static-pod-resources/etcd-certs\n
      \     name: cert-dir\n    - hostPath:\n        path: /var/lib/etcd\n        type:
      \"\"\n      name: data-dir\n    - hostPath:\n        path: /usr/local/bin\n
      \     name: usr-local-bin\n    - hostPath:\n        path: /var/log/etcd\n      name:
      log-dir\n"
    version: 4.12.0-202301311142.p0.ga9aaf7d.assembly.stream-a9aaf7d
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:31:31Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:forceRedeploymentReason: {}
          f:pod.yaml: {}
          f:version: {}
        f:metadata:
          f:ownerReferences:
            .: {}
            k:{"uid":"f82c5c6f-86d4-47a7-b81d-4e0a5ebc6f30"}: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:31:31Z"
    name: etcd-pod-3
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-3
      uid: f82c5c6f-86d4-47a7-b81d-4e0a5ebc6f30
    resourceVersion: "5763"
    uid: 63c86997-243e-475f-bd65-0d70ab9e3846
- apiVersion: v1
  data:
    cluster-backup.sh: |
      #!/usr/bin/env bash

      ### Created by cluster-etcd-operator. DO NOT edit.

      set -o errexit
      set -o pipefail
      set -o errtrace

      # example
      # cluster-backup.sh $path-to-snapshot

      if [[ $EUID -ne 0 ]]; then
        echo "This script must be run as root"
        exit 1
      fi

      function usage {
        echo 'Path to backup dir required: ./cluster-backup.sh [--force] <path-to-backup-dir>'
        exit 1
      }

      IS_DIRTY=""
      if [ "$1" == "--force" ]; then
        IS_DIRTY="__POSSIBLY_DIRTY__"
        shift
      fi

      # If the first argument is missing, or it is an existing file, then print usage and exit
      if [ -z "$1" ] || [ -f "$1" ]; then
        usage
      fi

      if [ ! -d "$1" ]; then
        mkdir -p "$1"
      fi

      function check_if_operator_is_progressing {
         local operator="$1"

         if [ ! -f "${KUBECONFIG}" ]; then
            echo "Valid kubeconfig is not found in kube-apiserver-certs. Exiting!"
            exit 1
         fi

         progressing=$(oc get co "${operator}" -o jsonpath='{.status.conditions[?(@.type=="Progressing")].status}') || true
         if [ "$progressing" == "" ]; then
            echo "Could not find the status of the $operator. Check if the API server is running. Pass the --force flag to skip checks."
            exit 1
         elif [ "$progressing" != "False" ]; then
            echo "Currently the $operator operator is progressing. A reliable backup requires that a rollout is not in progress.  Aborting!"
            exit 1
         fi
      }

      # backup latest static pod resources
      function backup_latest_kube_static_resources {
        local backup_tar_file="$1"
        local backup_resource_list=("kube-apiserver" "kube-controller-manager" "kube-scheduler" "etcd")
        local latest_resource_dirs=()

        for resource in "${backup_resource_list[@]}"; do
          if [ ! -f "/etc/kubernetes/manifests/${resource}-pod.yaml" ]; then
            echo "error finding manifests for the ${resource} pod. please check if it is running."
            exit 1
          fi

          local latest_resource
          latest_resource=$(grep -o -m 1 "/etc/kubernetes/static-pod-resources/${resource}-pod-[0-9]*" "/etc/kubernetes/manifests/${resource}-pod.yaml") || true

          if [ -z "${latest_resource}" ]; then
            echo "error finding static-pod-resources for the ${resource} pod. please check if it is running."
            exit 1
          fi
          if [ "${IS_DIRTY}" == "" ]; then
            check_if_operator_is_progressing "${resource}"
          fi

          echo "found latest ${resource}: ${latest_resource}"
          latest_resource_dirs+=("${latest_resource#${CONFIG_FILE_DIR}/}")
        done

        # tar latest resources with the path relative to CONFIG_FILE_DIR
        tar -cpzf "$backup_tar_file" -C "${CONFIG_FILE_DIR}" "${latest_resource_dirs[@]}"
        chmod 600 "$backup_tar_file"
      }

      function source_required_dependency {
        local src_path="$1"
        if [ ! -f "${src_path}" ]; then
          echo "required dependencies not found, please ensure this script is run on a node with a functional etcd static pod"
          exit 1
        fi
        # shellcheck disable=SC1090
        source "${src_path}"
      }

      BACKUP_DIR="$1"
      DATESTRING=$(date "+%F_%H%M%S")
      BACKUP_TAR_FILE=${BACKUP_DIR}/static_kuberesources_${DATESTRING}${IS_DIRTY}.tar.gz
      SNAPSHOT_FILE="${BACKUP_DIR}/snapshot_${DATESTRING}${IS_DIRTY}.db"

      trap 'rm -f ${BACKUP_TAR_FILE} ${SNAPSHOT_FILE}' ERR

      source_required_dependency /etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/etcd.env
      source_required_dependency /etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/etcd-common-tools

      # replacing the value of variables sourced form etcd.env to use the local node folders if the script is not running into the cluster-backup pod
      if [ ! -f "${ETCDCTL_CACERT}" ]; then
        echo "Certificate ${ETCDCTL_CACERT} is missing. Checking in different directory"
        export ETCDCTL_CACERT=$(echo ${ETCDCTL_CACERT} | sed -e "s|static-pod-certs|static-pod-resources/etcd-certs|")
        export ETCDCTL_CERT=$(echo ${ETCDCTL_CERT} | sed -e "s|static-pod-certs|static-pod-resources/etcd-certs|")
        export ETCDCTL_KEY=$(echo ${ETCDCTL_KEY} | sed -e "s|static-pod-certs|static-pod-resources/etcd-certs|")
        if [ ! -f "${ETCDCTL_CACERT}" ]; then
          echo "Certificate ${ETCDCTL_CACERT} is also missing in the second directory. Exiting!"
          exit 1
        else
          echo "Certificate ${ETCDCTL_CACERT} found!"
        fi
      fi

      backup_latest_kube_static_resources "${BACKUP_TAR_FILE}"

      # Download etcdctl and get the etcd snapshot
      dl_etcdctl
      ETCDCTL_ENDPOINTS="https://${NODE_NODE_ENVVAR_NAME_IP}:2379" etcdctl snapshot save "${SNAPSHOT_FILE}"

      # Check the integrity of the snapshot
      check_snapshot_status "${SNAPSHOT_FILE}"
      snapshot_failed=$?

      # If check_snapshot_status returned 1 it failed, so exit with code 1
      if [[ $snapshot_failed -eq 1 ]]; then
        exit 1
      fi

      echo "snapshot db and kube resources are successfully saved to ${BACKUP_DIR}"
    cluster-restore.sh: |
      #!/usr/bin/env bash

      ### Created by cluster-etcd-operator. DO NOT edit.

      set -o errexit
      set -o pipefail
      set -o errtrace

      # example
      # ./cluster-restore.sh $path-to-backup

      if [[ $EUID -ne 0 ]]; then
        echo "This script must be run as root"
        exit 1
      fi

      function source_required_dependency {
        local src_path="$1"
        if [ ! -f "${src_path}" ]; then
          echo "required dependencies not found, please ensure this script is run on a node with a functional etcd static pod"
          exit 1
        fi
        # shellcheck disable=SC1090
        source "${src_path}"
      }

      source_required_dependency /etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/etcd.env
      source_required_dependency /etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/etcd-common-tools

      function usage() {
        echo 'Path to the directory containing backup files is required: ./cluster-restore.sh <path-to-backup>'
        echo 'The backup directory is expected to be contain two files:'
        echo '        1. etcd snapshot'
        echo '        2. A copy of the Static POD resources at the time of backup'
        exit 1
      }

      # If the argument is not passed, or if it is not a directory, print usage and exit.
      if [ "$1" == "" ] || [ ! -d "$1" ]; then
        usage
      fi

      function restore_static_pods() {
        local backup_file="$1"
        shift
        local static_pods=("$@")

        for pod_file_name in "${static_pods[@]}"; do
          backup_pod_path=$(tar -tvf "${backup_file}" "*${pod_file_name}" | awk '{ print $6 }') || true
          if [ -z "${backup_pod_path}" ]; then
            echo "${pod_file_name} does not exist in ${backup_file}"
            exit 1
          fi

          echo "starting ${pod_file_name}"
          tar -xvf "${backup_file}" --strip-components=2 -C "${MANIFEST_DIR}"/ "${backup_pod_path}"
        done
      }

      function wait_for_containers_to_stop() {
        local containers=("$@")

        for container_name in "${containers[@]}"; do
          echo "Waiting for container ${container_name} to stop"
          while [[ -n $(crictl ps --label io.kubernetes.container.name="${container_name}" -q) ]]; do
            echo -n "."
            sleep 1
          done
          echo "complete"
        done
      }

      BACKUP_DIR="$1"
      # shellcheck disable=SC2012
      BACKUP_FILE=$(ls -vd "${BACKUP_DIR}"/static_kuberesources*.tar.gz | tail -1) || true
      # shellcheck disable=SC2012
      SNAPSHOT_FILE=$(ls -vd "${BACKUP_DIR}"/snapshot*.db | tail -1) || true
      STATIC_POD_LIST=("kube-apiserver-pod.yaml" "kube-controller-manager-pod.yaml" "kube-scheduler-pod.yaml")
      STATIC_POD_CONTAINERS=("etcd" "etcdctl" "etcd-metrics" "kube-controller-manager" "kube-apiserver" "kube-scheduler")

      if [ ! -f "${SNAPSHOT_FILE}" ]; then
        echo "etcd snapshot ${SNAPSHOT_FILE} does not exist"
        exit 1
      fi

      # Download etcdctl and check the snapshot status
      dl_etcdctl
      check_snapshot_status "${SNAPSHOT_FILE}"

      # Move manifests and stop static pods
      if [ ! -d "$MANIFEST_STOPPED_DIR" ]; then
        mkdir -p "$MANIFEST_STOPPED_DIR"
      fi

      # Move static pod manifests out of MANIFEST_DIR
      for POD_FILE_NAME in "${STATIC_POD_LIST[@]}" etcd-pod.yaml; do
        echo "...stopping ${POD_FILE_NAME}"
        [ ! -f "${MANIFEST_DIR}/${POD_FILE_NAME}" ] && continue
        mv "${MANIFEST_DIR}/${POD_FILE_NAME}" "${MANIFEST_STOPPED_DIR}"
      done

      # wait for every static pod container to stop
      wait_for_containers_to_stop "${STATIC_POD_CONTAINERS[@]}"

      if [ ! -d "${ETCD_DATA_DIR_BACKUP}" ]; then
        mkdir -p "${ETCD_DATA_DIR_BACKUP}"
      fi

      # backup old data-dir
      if [ -d "${ETCD_DATA_DIR}/member" ]; then
        if [ -d "${ETCD_DATA_DIR_BACKUP}/member" ]; then
          echo "removing previous backup ${ETCD_DATA_DIR_BACKUP}/member"
          rm -rf "${ETCD_DATA_DIR_BACKUP}"/member
        fi
        echo "Moving etcd data-dir ${ETCD_DATA_DIR}/member to ${ETCD_DATA_DIR_BACKUP}"
        mv "${ETCD_DATA_DIR}"/member "${ETCD_DATA_DIR_BACKUP}"/
      fi

      # Restore static pod resources
      tar -C "${CONFIG_FILE_DIR}" -xzf "${BACKUP_FILE}" static-pod-resources

      # Copy snapshot to backupdir
      cp -p "${SNAPSHOT_FILE}" "${ETCD_DATA_DIR_BACKUP}"/snapshot.db

      echo "starting restore-etcd static pod"
      cp -p "${RESTORE_ETCD_POD_YAML}" "${MANIFEST_DIR}/etcd-pod.yaml"

      # start remaining static pods
      restore_static_pods "${BACKUP_FILE}" "${STATIC_POD_LIST[@]}"
    etcd-common-tools: |+
      # Common environment variables
      ASSET_DIR="/home/core/assets"
      CONFIG_FILE_DIR="/etc/kubernetes"
      MANIFEST_DIR="${CONFIG_FILE_DIR}/manifests"
      ETCD_DATA_DIR="/var/lib/etcd"
      ETCD_DATA_DIR_BACKUP="/var/lib/etcd-backup"
      MANIFEST_STOPPED_DIR="${ASSET_DIR}/manifests-stopped"
      RESTORE_ETCD_POD_YAML="${CONFIG_FILE_DIR}/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/pod.yaml"
      ETCDCTL_BIN_DIR="${CONFIG_FILE_DIR}/static-pod-resources/bin"
      PATH=${PATH}:${ETCDCTL_BIN_DIR}
      KUBECONFIG="/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/localhost.kubeconfig"
      export KUBECONFIG

      # download etcdctl from upstream release assets
      function dl_etcdctl {
        if [ -x "$(command -v etcdctl)" ]; then
          echo "etcdctl is already installed"
          return
        fi
        local etcdimg=${ETCD_IMAGE}
        local etcdctr=$(podman create ${etcdimg} --authfile=/var/lib/kubelet/config.json)
        local etcdmnt=$(podman mount "${etcdctr}")
        [ ! -d ${ETCDCTL_BIN_DIR} ] && mkdir -p ${ETCDCTL_BIN_DIR}
        cp ${etcdmnt}/bin/etcdctl ${ETCDCTL_BIN_DIR}/
        umount "${etcdmnt}"
        podman rm "${etcdctr}"
        etcdctl version
      }

      # execute etcdctl command inside of running etcdctl container
      function exec_etcdctl {
        local command="$@"
        local container_id=$(sudo crictl ps --label io.kubernetes.container.name=etcdctl -o json | jq -r '.containers[0].id') || true
        if [ -z "$container_id" ]; then
          echo "etcdctl container is not running"
          exit 1
        fi
        crictl exec -it $container_id /bin/sh -c "etcdctl $command"
      }

      function check_snapshot_status() {
        local snap_file="$1"
        if ! etcdctl snapshot status "${snap_file}" -w json; then
          echo "Backup integrity verification failed. Backup appears corrupted. Aborting!"
          return 1
        fi
      }

    etcd.env: |
      export ALL_ETCD_ENDPOINTS="https://192.168.1.126:2379"
      export ETCDCTL_API="3"
      export ETCDCTL_CACERT="/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
      export ETCDCTL_CERT="/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt"
      export ETCDCTL_ENDPOINTS="https://192.168.1.126:2379"
      export ETCDCTL_KEY="/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key"
      export ETCD_CIPHER_SUITES="TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
      export ETCD_DATA_DIR="/var/lib/etcd"
      export ETCD_ELECTION_TIMEOUT="1000"
      export ETCD_ENABLE_PPROF="true"
      export ETCD_EXPERIMENTAL_MAX_LEARNERS="1"
      export ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION="200ms"
      export ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL="5s"
      export ETCD_HEARTBEAT_INTERVAL="100"
      export ETCD_IMAGE="quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2"
      export ETCD_INITIAL_CLUSTER_STATE="existing"
      export ETCD_QUOTA_BACKEND_BYTES="8589934592"
      export ETCD_SOCKET_REUSE_ADDRESS="true"
      export NODE_node_ETCD_NAME="node"
      export NODE_node_ETCD_URL_HOST="192.168.1.126"
      export NODE_node_IP="192.168.1.126"
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:28:45Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:cluster-backup.sh: {}
          f:cluster-restore.sh: {}
          f:etcd-common-tools: {}
          f:etcd.env: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:28:45Z"
    name: etcd-scripts
    namespace: openshift-etcd
    resourceVersion: "4404"
    uid: 7260734a-dd39-4413-ad8f-fce2c8a518c3
- apiVersion: v1
  data:
    ca-bundle.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDOTCCAiGgAwIBAgIIOxoXHS/N9MUwDQYJKoZIhvcNAQELBQAwKjESMBAGA1UE
      CxMJb3BlbnNoaWZ0MRQwEgYDVQQDEwtldGNkLXNpZ25lcjAeFw0yMzA1MDIxMjE2
      MjFaFw0zMzA0MjkxMjE2MjJaMCoxEjAQBgNVBAsTCW9wZW5zaGlmdDEUMBIGA1UE
      AxMLZXRjZC1zaWduZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDH
      4r4LPlNnEChGEOM0przPEOhk5znlfUrFW2S3uTw5HwKO4Dn5vK/azZ7P/klGgeH5
      xxzl5mRW69S0x9/L0GydzvfDR+lSkakdrfFg5NUNw5ZmnPvIrBV8hcdW5lnc7kdK
      CzfeihY9MjF85dkcEFmuInC9ts7Lw6uqkXLVh+GtYnruk4Mz6tbL7vv7SGZlbkOZ
      Nvr8+yzvMpwoMvqTPOKWeFeBO6d9VYCGvn2Vv/ddeG9/xF1u8FFcawCj/FimSvtL
      jwHlDhGEjD+sNTqenUdTS9yUU2FzyVjUvMUTRaHHW/y5kfzGixr/Px3Df9R8hIBW
      SzRRrF2lz2RN4bjFXknhAgMBAAGjYzBhMA4GA1UdDwEB/wQEAwICpDAPBgNVHRMB
      Af8EBTADAQH/MB0GA1UdDgQWBBS6D+xobUUCncL6d/8s5SM8JmvujDAfBgNVHSME
      GDAWgBS6D+xobUUCncL6d/8s5SM8JmvujDANBgkqhkiG9w0BAQsFAAOCAQEAGSQS
      oZr5WmPnLIvQB6IBsbN8v1Ien5VFWyJEhaIAbzFcPcCavtFU8McoptXBjIjdBED4
      2HSPuhuEtQKzP98zqSXbi9cHnrz0OyYMNbzukOhbJLooZcFYO6OsTMoGxH2Y8B1I
      XK3giPsNq8s0y9Toi7oVyPuF9qfhk9WAUhOEAG6uz0bcgPrUEkOh3jzrEEpUalni
      fIhbLIyLr/mg30KBQfaNWa1fjNk03cSYoEQASsXmqLt+7t0lckTJwehO8UL6ENyp
      93afYPCV75jEJg8fUk+9ivFOqGGtgaIJ7qmysmh+TirB3gUHj3orV2Yozm3CXRoB
      NdWNdjgGTDX7qoXXxQ==
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:28:30Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:ca-bundle.crt: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:28:30Z"
    name: etcd-serving-ca
    namespace: openshift-etcd
    resourceVersion: "3558"
    uid: c57df29e-6e09-46d0-bbdc-2f7a3a013d85
- apiVersion: v1
  data:
    ca-bundle.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDOTCCAiGgAwIBAgIIOxoXHS/N9MUwDQYJKoZIhvcNAQELBQAwKjESMBAGA1UE
      CxMJb3BlbnNoaWZ0MRQwEgYDVQQDEwtldGNkLXNpZ25lcjAeFw0yMzA1MDIxMjE2
      MjFaFw0zMzA0MjkxMjE2MjJaMCoxEjAQBgNVBAsTCW9wZW5zaGlmdDEUMBIGA1UE
      AxMLZXRjZC1zaWduZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDH
      4r4LPlNnEChGEOM0przPEOhk5znlfUrFW2S3uTw5HwKO4Dn5vK/azZ7P/klGgeH5
      xxzl5mRW69S0x9/L0GydzvfDR+lSkakdrfFg5NUNw5ZmnPvIrBV8hcdW5lnc7kdK
      CzfeihY9MjF85dkcEFmuInC9ts7Lw6uqkXLVh+GtYnruk4Mz6tbL7vv7SGZlbkOZ
      Nvr8+yzvMpwoMvqTPOKWeFeBO6d9VYCGvn2Vv/ddeG9/xF1u8FFcawCj/FimSvtL
      jwHlDhGEjD+sNTqenUdTS9yUU2FzyVjUvMUTRaHHW/y5kfzGixr/Px3Df9R8hIBW
      SzRRrF2lz2RN4bjFXknhAgMBAAGjYzBhMA4GA1UdDwEB/wQEAwICpDAPBgNVHRMB
      Af8EBTADAQH/MB0GA1UdDgQWBBS6D+xobUUCncL6d/8s5SM8JmvujDAfBgNVHSME
      GDAWgBS6D+xobUUCncL6d/8s5SM8JmvujDANBgkqhkiG9w0BAQsFAAOCAQEAGSQS
      oZr5WmPnLIvQB6IBsbN8v1Ien5VFWyJEhaIAbzFcPcCavtFU8McoptXBjIjdBED4
      2HSPuhuEtQKzP98zqSXbi9cHnrz0OyYMNbzukOhbJLooZcFYO6OsTMoGxH2Y8B1I
      XK3giPsNq8s0y9Toi7oVyPuF9qfhk9WAUhOEAG6uz0bcgPrUEkOh3jzrEEpUalni
      fIhbLIyLr/mg30KBQfaNWa1fjNk03cSYoEQASsXmqLt+7t0lckTJwehO8UL6ENyp
      93afYPCV75jEJg8fUk+9ivFOqGGtgaIJ7qmysmh+TirB3gUHj3orV2Yozm3CXRoB
      NdWNdjgGTDX7qoXXxQ==
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:29:24Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:ca-bundle.crt: {}
        f:metadata:
          f:ownerReferences:
            .: {}
            k:{"uid":"665d0fd4-516e-4618-8457-4a82d15bfe9b"}: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:29:24Z"
    name: etcd-serving-ca-2
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-2
      uid: 665d0fd4-516e-4618-8457-4a82d15bfe9b
    resourceVersion: "4925"
    uid: 6a88fd51-8aba-445c-ae3c-c71dbfcfe473
- apiVersion: v1
  data:
    ca-bundle.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDOTCCAiGgAwIBAgIIOxoXHS/N9MUwDQYJKoZIhvcNAQELBQAwKjESMBAGA1UE
      CxMJb3BlbnNoaWZ0MRQwEgYDVQQDEwtldGNkLXNpZ25lcjAeFw0yMzA1MDIxMjE2
      MjFaFw0zMzA0MjkxMjE2MjJaMCoxEjAQBgNVBAsTCW9wZW5zaGlmdDEUMBIGA1UE
      AxMLZXRjZC1zaWduZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDH
      4r4LPlNnEChGEOM0przPEOhk5znlfUrFW2S3uTw5HwKO4Dn5vK/azZ7P/klGgeH5
      xxzl5mRW69S0x9/L0GydzvfDR+lSkakdrfFg5NUNw5ZmnPvIrBV8hcdW5lnc7kdK
      CzfeihY9MjF85dkcEFmuInC9ts7Lw6uqkXLVh+GtYnruk4Mz6tbL7vv7SGZlbkOZ
      Nvr8+yzvMpwoMvqTPOKWeFeBO6d9VYCGvn2Vv/ddeG9/xF1u8FFcawCj/FimSvtL
      jwHlDhGEjD+sNTqenUdTS9yUU2FzyVjUvMUTRaHHW/y5kfzGixr/Px3Df9R8hIBW
      SzRRrF2lz2RN4bjFXknhAgMBAAGjYzBhMA4GA1UdDwEB/wQEAwICpDAPBgNVHRMB
      Af8EBTADAQH/MB0GA1UdDgQWBBS6D+xobUUCncL6d/8s5SM8JmvujDAfBgNVHSME
      GDAWgBS6D+xobUUCncL6d/8s5SM8JmvujDANBgkqhkiG9w0BAQsFAAOCAQEAGSQS
      oZr5WmPnLIvQB6IBsbN8v1Ien5VFWyJEhaIAbzFcPcCavtFU8McoptXBjIjdBED4
      2HSPuhuEtQKzP98zqSXbi9cHnrz0OyYMNbzukOhbJLooZcFYO6OsTMoGxH2Y8B1I
      XK3giPsNq8s0y9Toi7oVyPuF9qfhk9WAUhOEAG6uz0bcgPrUEkOh3jzrEEpUalni
      fIhbLIyLr/mg30KBQfaNWa1fjNk03cSYoEQASsXmqLt+7t0lckTJwehO8UL6ENyp
      93afYPCV75jEJg8fUk+9ivFOqGGtgaIJ7qmysmh+TirB3gUHj3orV2Yozm3CXRoB
      NdWNdjgGTDX7qoXXxQ==
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:31:32Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:ca-bundle.crt: {}
        f:metadata:
          f:ownerReferences:
            .: {}
            k:{"uid":"f82c5c6f-86d4-47a7-b81d-4e0a5ebc6f30"}: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:31:32Z"
    name: etcd-serving-ca-3
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-3
      uid: f82c5c6f-86d4-47a7-b81d-4e0a5ebc6f30
    resourceVersion: "5793"
    uid: b3111533-4f68-466a-b5cc-63c0ce1b5593
- apiVersion: v1
  data:
    ca.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDMjCCAhqgAwIBAgIIIHE9NKTALZwwDQYJKoZIhvcNAQELBQAwNzESMBAGA1UE
      CxMJb3BlbnNoaWZ0MSEwHwYDVQQDExhrdWJlLWFwaXNlcnZlci1sYi1zaWduZXIw
      HhcNMjMwNTAyMTIxMjU1WhcNMzMwNDI5MTIxMjU1WjA3MRIwEAYDVQQLEwlvcGVu
      c2hpZnQxITAfBgNVBAMTGGt1YmUtYXBpc2VydmVyLWxiLXNpZ25lcjCCASIwDQYJ
      KoZIhvcNAQEBBQADggEPADCCAQoCggEBAPTjQeAKPF3HkIhqRtmm5wEq/qWyQcFr
      KHn9g5RM7vzHWXfWLvVJll9QHp0H9Ji7yKLNcCxFzxYD0G3wvo2OG7I1tbPhIHHX
      hHgeAoAJ8+/H/WvpkcynZfnzNu7Jv+8drBkMY5TgSfqwqoLdMX4cB04QpqDEGOs5
      ruRFMIpXvTA0jNzMwP86q+YeTSmLgxNfE+9Ztsvt9HaUqVK1p1mimRILPw6T5FUS
      lMd2ZGrGAj3rjTVQtrdIN9jtSB5wzUhmQVcn6qGJLLtW8eC+vixNQIprJBPJ/J2w
      SsJqwR25Sg3HLx4Kl+jysESUFtdXW5rZLHDyBrtYB8lnqdKowndK4e0CAwEAAaNC
      MEAwDgYDVR0PAQH/BAQDAgKkMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFP2d
      QyvCe5uqajpXRRZ2rFWxL68SMA0GCSqGSIb3DQEBCwUAA4IBAQCKsx0PEXpPPqA1
      IloyebDyzehzT5aW36HN/6B8hZwX3ZZA8GnIfaJb1CHu7KyXNPO92OshRuxjZqaM
      UiEjqZNluk+XX4iCUbkfDV+C20C4Yzn1tMkJ7nT+k6OP6HQ6WViiUElIdcp5hsBS
      robdzksHmMSvp9OM5ryIfbCmR41T7vgQO6iwTOU4d338ydTioDPUTCdkeJnQ0WSp
      8cmtwKYhCnr+y7vpPQ2XmURPJEnLtQEjhV8leUglcpSd23BBwtCs9mXnR2z1Dfi/
      hBgVZLUL5p1kPTM4SV4yL2sXqQpFBKqH//LRR22OYne/IZ4DKeflfi+DElu5bTcO
      vgyl9baw
      -----END CERTIFICATE-----
      -----BEGIN CERTIFICATE-----
      MIIDQDCCAiigAwIBAgIIVM/MY8VEK0kwDQYJKoZIhvcNAQELBQAwPjESMBAGA1UE
      CxMJb3BlbnNoaWZ0MSgwJgYDVQQDEx9rdWJlLWFwaXNlcnZlci1sb2NhbGhvc3Qt
      c2lnbmVyMB4XDTIzMDUwMjEyMTI1NFoXDTMzMDQyOTEyMTI1NFowPjESMBAGA1UE
      CxMJb3BlbnNoaWZ0MSgwJgYDVQQDEx9rdWJlLWFwaXNlcnZlci1sb2NhbGhvc3Qt
      c2lnbmVyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxR+6bXTQkM/f
      5Bq892df5+lvSlBle5Dym/i6ZIGtB8ji4OigXRmCj4lojBcPThQ5gJpPXiUFX0kg
      Nt18LsmCm56qx3g/2mbFFFm4ADKEZZYP+qjpelv6LM1F+oLpqByxoDnV3dAdMX9t
      MtFCUazK5L+njYyt57tLaJlfHvwbQhNq+bvha/krPWrduZwxUB0uIok4kGZtAanz
      d7OpfbPihH0uo9f8mEcQZHupA2dsGZxpsRB74jpjc+7kUw9jqcidlUTtUU94U2Uw
      SWdUOVHoy1UlLqRqS4Z8D4tr/cqymR7TbHB64WX/qs4itGO97qX5wpRunBdPCOU9
      P5mcCLTtwwIDAQABo0IwQDAOBgNVHQ8BAf8EBAMCAqQwDwYDVR0TAQH/BAUwAwEB
      /zAdBgNVHQ4EFgQUxOZvSCA4C4ZFwx9z7+8OQJtpBv8wDQYJKoZIhvcNAQELBQAD
      ggEBAGln/iQfsX8grjEMzRUqS/q/9EW22L9B7sJLcwT5SsPERLZX+EdmIniy13JU
      e5sOLtZrwf+luugwbFYBiHlkAVhW5q1Dr/6qpdCdIJ7aIVpS1JP4WcR83rwiXkav
      M0H6wTcA9ZtvA7+OmBg/MhLE9LDvAMqj1KXX88iwlJHA8P28x+CC+Yry91p9UH2J
      thbbv/u783kSVlILi2mtnHJnImNrVsxELmX1md7cwpoFpQn2+1zxBOUmFBU+8wQz
      uq43bQtiforpuF2Frg3gnLv/bWW7hIsSq71+pSoZNUACh/Q2HGfAJFuKo1PIJUf/
      PSE8iMxsugwYesHuZA9XgnI/vl0=
      -----END CERTIFICATE-----
      -----BEGIN CERTIFICATE-----
      MIIDTDCCAjSgAwIBAgIIPBIgISKbedYwDQYJKoZIhvcNAQELBQAwRDESMBAGA1UE
      CxMJb3BlbnNoaWZ0MS4wLAYDVQQDEyVrdWJlLWFwaXNlcnZlci1zZXJ2aWNlLW5l
      dHdvcmstc2lnbmVyMB4XDTIzMDUwMjEyMTI1NVoXDTMzMDQyOTEyMTI1NVowRDES
      MBAGA1UECxMJb3BlbnNoaWZ0MS4wLAYDVQQDEyVrdWJlLWFwaXNlcnZlci1zZXJ2
      aWNlLW5ldHdvcmstc2lnbmVyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC
      AQEA7NmmTx7xr3jUV/RG0P/3VnKEitGpbvAMOFXIjxkTeN0kfRB56TpY1rGtykDT
      aMC7J0qe1q/HsF/n1LhURd5jeJX4ikrdaGEauSKW1ARcb6K/1fm5DqPmlYEyBkRg
      N505N1lRKebN22PfA3AdwsT8jGmXnXpqpttwg/pCkuduTAXpqWl+xZrdjL1J1WxF
      /srWChh89+zIAotonIOoBzJzClI9T9y5/gWyBAZ4R2VALeMviURiWtEAoZ9+WOTk
      vfPeCFvKfg+nh2uJPbzOQDHd1VHI6dzShjbNU0zCsQ4g9HxagWVmS/vYqvHd05oU
      EjjL/+m4CHuVhYB1UZdmCZOx7QIDAQABo0IwQDAOBgNVHQ8BAf8EBAMCAqQwDwYD
      VR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQU8q39hyt4ZUNJsoC0Lzc7ydL/ecswDQYJ
      KoZIhvcNAQELBQADggEBABVh0WmAK2p2ZVn5g160zmnrGuoBOQLebbPam8niUvti
      j0ugiA6ofi/IsbkX8/w2GaXVAy7F4UMAx19tMwqyv3m7VDHwrPOqDEe1HmK2dBEt
      0mH9Zahqd/hxjOmJynQfKmb6A4itHHMbn+8IEyOUICMMazxt+mA0MS8aZtS29grL
      OBnzbaazct6/NQGu8YS9URruvC3za1JR6A3Wz/DYyZHmLomaiDUuzFMuelp627Lv
      /TxGKz3DHEOS1rv31asDVVFc+5TbHK4MG+G0CBMTtG1gNL/1vWFsXpKRinRwcTZi
      P3H6KaUEugfBsqLjZeEXnR9RBr/8RNRJIjjjllX5ZQI=
      -----END CERTIFICATE-----
      -----BEGIN CERTIFICATE-----
      MIIDlzCCAn+gAwIBAgIIeYo2/62ErHEwDQYJKoZIhvcNAQELBQAwWTFXMFUGA1UE
      AwxOb3BlbnNoaWZ0LWt1YmUtYXBpc2VydmVyLW9wZXJhdG9yX2xvY2FsaG9zdC1y
      ZWNvdmVyeS1zZXJ2aW5nLXNpZ25lckAxNjgzMDMxMDU1MB4XDTIzMDUwMjEyMzcz
      NFoXDTMzMDQyOTEyMzczNVowWTFXMFUGA1UEAwxOb3BlbnNoaWZ0LWt1YmUtYXBp
      c2VydmVyLW9wZXJhdG9yX2xvY2FsaG9zdC1yZWNvdmVyeS1zZXJ2aW5nLXNpZ25l
      ckAxNjgzMDMxMDU1MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7ZrG
      YNCDmAupXarVm7zq1r36MQYUVI/LwQNmMDqflSK7U1QinsZmj0E2gQdR6y27GhKT
      JXXPzUKTBqWWnckaOHQvdqAI3sdXO3ez5ebIPFFKEbHHygCTqQe79oCMdIv89rdo
      qQwMjw+GFb1sPoUw1iLP+dfH72GbBtNnFwbCeL7LEyYBq+cXsYOgx0hv42UgLgnN
      Ym6Dzp9Y0a5bALLyVeyxfjb2NzLOZZ1uJY7/6T/ZH2ZsswYte4LnP+epGSZR5nj9
      PuGVwTnRBYDyOYVGxjmvWCP6uVBTJDz/JToZ9mb1osMqwNaK7/x9WjS4gr5wy3cL
      tPz0lmLvRR/jYQlotwIDAQABo2MwYTAOBgNVHQ8BAf8EBAMCAqQwDwYDVR0TAQH/
      BAUwAwEB/zAdBgNVHQ4EFgQUXJ/OjMzszejtF1QuGPZpv8VCmn0wHwYDVR0jBBgw
      FoAUXJ/OjMzszejtF1QuGPZpv8VCmn0wDQYJKoZIhvcNAQELBQADggEBAM6dGPH/
      ZYCTM/uOgIhnRqhUQ5gUcJeujtxewdtmpzikqYogtWzZkkadW79YBE0DD65xobg/
      v7ZRYWqJC6wsA12mlB5odiIksHFPP3rElBVmxK3VacU0IjNlah2xPgiYsHs4FrYJ
      m+dJzkJT1M/z8QBKONfbkDJ8LYtONxDnX8Ony1tvjtLg1reLo8my+WMKB65OVNt8
      qd9NCMlTL/Kj8Pz17I9D0oB7s/lKOajSbzKFTDk2EORj18ktIzFxCGsIozFFo7WH
      mCWzaj+NLjTsOMw/dahfDF3n8LLCdWL93QJG7eWLnOpnzCaKjBSxwrVrbc5qkZXP
      vXv/v5AFnEnzT9s=
      -----END CERTIFICATE-----
      -----BEGIN CERTIFICATE-----
      MIIDVzCCAj+gAwIBAgIIJ/0BJ3qW3FIwDQYJKoZIhvcNAQELBQAwJjEkMCIGA1UE
      AwwbaW5ncmVzcy1vcGVyYXRvckAxNjgzMDMwODQ3MB4XDTIzMDUwMjEyMzQwN1oX
      DTI1MDUwMTEyMzQwOFowGzEZMBcGA1UEAwwQKi5hcHBzLnNuby5ndy5sbzCCASIw
      DQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOFhpGW39khdbh5cjsHMQIiXgHzQ
      xo8c1jmn3ASatwNGd3H32iLD9xpts+iX2HXXxt5ID3u+VEDECgooRk9ajhbt6dMM
      Bj/YH2NGJ9BhSobac10IvOfF06y8+LRrIaID+cDzX5Bm7hmGTGKXYBK4hABWIaxV
      rBlS9t96hfAeC/oempzLL1A3+OzOublplmVhZicUvtMO8NKgbJnRRL9H0ITfZKpW
      XVu7k7hnDgKSUjmzH3E/G/saZU6832pGrVm168MVTulT1p/N73VYiSU05c9IJM+4
      04HvzfNzhvQUdq056cP5tY/us3AtJ6wZWi9ZYGKoKDWZEDeUUGXDqdFkZNECAwEA
      AaOBkzCBkDAOBgNVHQ8BAf8EBAMCBaAwEwYDVR0lBAwwCgYIKwYBBQUHAwEwDAYD
      VR0TAQH/BAIwADAdBgNVHQ4EFgQUnkiyZkF8+YgYhZ6br7+4m6+RGx0wHwYDVR0j
      BBgwFoAUcp6rJzVEWPsSyoX2+cZ4aSSU3SwwGwYDVR0RBBQwEoIQKi5hcHBzLnNu
      by5ndy5sbzANBgkqhkiG9w0BAQsFAAOCAQEAcY9wNX2vG+Ah1rtaEXH2sofHm+vT
      NxonAnxl8C5IotOL1oWSsMRQ2L4yn/TOO+mXGKC8+Yll4B1ZDXf+ow5fhupmAyfo
      Y2lyecIxOGM5GZ7ihDQqHVCirzNIAzOa6Jecy4oqY0OumX1hSsblGGnUmCL21qUl
      uqeSQAK8VaSmO+rhuyHPJFzjZuIcV4IufCMP3pLus12fCw9KXyGinYp3aYqWXx1i
      r0bwpf1RYtF9cQMeNwBs/W+XnZsmMy73elFAeVIA+IZqH9OsU+utVbjKaKdMW6bh
      EujL2t3T+OrF0HQz8C0zQjmZHtfbtxSAOz+XlrTFA+dAyiuscL367Jspvg==
      -----END CERTIFICATE-----
      -----BEGIN CERTIFICATE-----
      MIIDDDCCAfSgAwIBAgIBATANBgkqhkiG9w0BAQsFADAmMSQwIgYDVQQDDBtpbmdy
      ZXNzLW9wZXJhdG9yQDE2ODMwMzA4NDcwHhcNMjMwNTAyMTIzNDA3WhcNMjUwNTAx
      MTIzNDA4WjAmMSQwIgYDVQQDDBtpbmdyZXNzLW9wZXJhdG9yQDE2ODMwMzA4NDcw
      ggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCeNsr/9MAYaQutGrmwg2s9
      SvAN4kOPr5NWbJvDH7f7GOAN9r1NMs5AGbs4EN9Y+15N4AN53Kpa/act6z+VdJ34
      PV/Z5xfUfqcw6IqHFI4u+xSaOvNFDQUh05Pk7Q0EBfvvEwnzRleJ0+nDxR4Uj11k
      lhljzob+pJDek0Z//IU2YSuWxhTJMS1t0JMjuw6i20XNnK3m0Agv1/oEOQwapIfe
      A+XUKjQe2hbghOTj7yce8Z7/3WHbRKFLO9ej79kYl0Dgw0bsJHXS86W+vJkQ0lY7
      rymR0iQZj8I0zLscczGOWAXcOCFDj27SZ1lHcO5yqQIfpVcJjfKuW8bYAJ7U8iUR
      AgMBAAGjRTBDMA4GA1UdDwEB/wQEAwICpDASBgNVHRMBAf8ECDAGAQH/AgEAMB0G
      A1UdDgQWBBRynqsnNURY+xLKhfb5xnhpJJTdLDANBgkqhkiG9w0BAQsFAAOCAQEA
      XItw+iARA1/Gna7c5sVYybwUzLhRRH84UX4a2cv+dCfzKHarS3qoFnWLBKETfa/G
      WnNcIMUITur9aFSylm2CtjdpvqQYyawdldx06pJ+HpE4un1CsTxb8K7Ks77Msrc/
      ifDlPHaaLP3SQiudaXf7G+JMtWHVyhDjG6114D0+2i9zBJadA2OF7Lry8nTkfLrL
      5ysZYZkVPksHUNWGlCBhfGnX/GtZNEQ8nWDxQzmZRqSsM20CdyTsZN+v8u8DZKlI
      lUXr+9zgv0fgUj6mUKkbEvS18/jg9/A/201mcsoQIzGfic5pd1VnqfRsQU1ZnDdN
      kXcVPUBsS2kkd4zKGOC9MQ==
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    annotations:
      kubernetes.io/description: Contains a CA bundle that can be used to verify the
        kube-apiserver when using internal endpoints such as the internal service
        IP or kubernetes.default.svc. No other usage is guaranteed across distributions
        of Kubernetes clusters.
    creationTimestamp: "2023-05-02T12:17:42Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:ca.crt: {}
        f:metadata:
          f:annotations:
            .: {}
            f:kubernetes.io/description: {}
      manager: kube-controller-manager
      operation: Update
      time: "2023-05-02T12:39:46Z"
    name: kube-root-ca.crt
    namespace: openshift-etcd
    resourceVersion: "10774"
    uid: 55d52867-6aaf-43ce-a486-caf25a97e4b3
- apiVersion: v1
  data:
    service-ca.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDUTCCAjmgAwIBAgIIKNpJleXsjJQwDQYJKoZIhvcNAQELBQAwNjE0MDIGA1UE
      Awwrb3BlbnNoaWZ0LXNlcnZpY2Utc2VydmluZy1zaWduZXJAMTY4MzAzMDUyMDAe
      Fw0yMzA1MDIxMjI4MzlaFw0yNTA2MzAxMjI4NDBaMDYxNDAyBgNVBAMMK29wZW5z
      aGlmdC1zZXJ2aWNlLXNlcnZpbmctc2lnbmVyQDE2ODMwMzA1MjAwggEiMA0GCSqG
      SIb3DQEBAQUAA4IBDwAwggEKAoIBAQD1oqFJG0/bU65lWe5Ya/rvTh1WSgJlp7DH
      r3Uz9+lhDzbDo/BrlLCRg8DiF6xBeSDwzmA+CG2rRWYBoh8l0Jv+6jkN21C/QEOq
      F/cTj70Tsvzj/BBJFcSPW/Q3AmyUWI04+usyJo03kREpSrcxl/d3dFJljzl23zoT
      nwISPX9C3ENvjjALTAxWX2oIQvler0fPM6HyfGN7Aw0JC5LoKCLJ7Qn66Wh6Z2Zq
      ThYJ7IWR3mfiAX1beMjM6Am7hAMSP1PjTQ+HzryBM32yzx3ymIHgUJQDz1sUNS1c
      Mx3JFoqzwe0t8TpDhvyHldZJs6S1McrshExSIBqwRHtjYpPKm56NAgMBAAGjYzBh
      MA4GA1UdDwEB/wQEAwICpDAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBT7hImT
      93OdeNSZa3nN+8QnxLLD0DAfBgNVHSMEGDAWgBT7hImT93OdeNSZa3nN+8QnxLLD
      0DANBgkqhkiG9w0BAQsFAAOCAQEAa4qpufHz+raQkm2IwBDVMCNxqfmYny4uxihN
      xh+2WbQ3zPGUv7t3q/70jacmjdd/Gl87nCCj3kDmf1l3LST7UTCErh4V0/EKawwZ
      +WooTzgRl9zAA8GkxvGI0wkpv7vgFogfZwdQxYF63wjrWfXftIDpCmpUhi+G4tIH
      LIXp9f6ww1yMIFHNo/e6Sb3q+QjccVEUElpOChxDpFFyT0lH2ftjVjykIWg/LYar
      dao30ihFgVxD3dKTrc8SzzevtTtB6wW5t/knW750ihAKz678lR7Ej0Zx1ZJMVJM0
      VLpIHNpIylTZuQeRjOhGBPRjamexeSR7nMlNoEVulfpqfcd/6A==
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    annotations:
      service.beta.openshift.io/inject-cabundle: "true"
    creationTimestamp: "2023-05-02T12:17:42Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data: {}
        f:metadata:
          f:annotations:
            .: {}
            f:service.beta.openshift.io/inject-cabundle: {}
      manager: kube-controller-manager
      operation: Update
      time: "2023-05-02T12:17:42Z"
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          f:service-ca.crt: {}
      manager: service-ca-operator
      operation: Update
      time: "2023-05-02T12:30:04Z"
    name: openshift-service-ca.crt
    namespace: openshift-etcd
    resourceVersion: "5453"
    uid: ca8a20cf-587a-4837-afd7-6ae10d740a97
- apiVersion: v1
  data:
    forceRedeploymentReason: ""
    pod.yaml: |
      apiVersion: v1
      kind: Pod
      metadata:
        name: etcd
        namespace: openshift-etcd
        labels:
          app: etcd
          k8s-app: etcd
          etcd: "true"
          revision: "REVISION"
      spec:
        containers:
        - name: etcd
          image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2
          imagePullPolicy: IfNotPresent
          terminationMessagePolicy: FallbackToLogsOnError
          command:
            - /bin/sh
            - -c
            - |
              #!/bin/sh
              set -euo pipefail

              export ETCD_NAME=${NODE_NODE_ENVVAR_NAME_ETCD_NAME}
              export ETCD_INITIAL_CLUSTER="${ETCD_NAME}=https://${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}:2380"
              env | grep ETCD | grep -v NODE
              export ETCD_NODE_PEER_URL=https://${NODE_NODE_ENVVAR_NAME_ETCD_URL_HOST}:2380

              # checking if there are any fio perf file left behind that could be deleted without problems
              if [ ! -z $(ls -A "/var/lib/etcd/etcd_perf*") ]; then
                rm -f /var/lib/etcd/etcd_perf*
              fi

              # checking if data directory is empty, if not etcdctl restore will fail
              if [ ! -z $(ls -A "/var/lib/etcd") ]; then
                echo "please delete the contents of data directory before restoring, running the restore script will do this for you"
                exit 1
              fi

              # check if we have backup file to be restored
              # if the file exist, check if it has not changed size in last 5 seconds
              if [ ! -f /var/lib/etcd-backup/snapshot.db ]; then
                echo "please make a copy of the snapshot db file, then move that copy to /var/lib/etcd-backup/snapshot.db"
                exit 1
              else
                filesize=$(stat --format=%s "/var/lib/etcd-backup/snapshot.db")
                sleep 5
                newfilesize=$(stat --format=%s "/var/lib/etcd-backup/snapshot.db")
                if [ "$filesize" != "$newfilesize" ]; then
                  echo "file size has changed since last 5 seconds, retry sometime after copying is complete"
                  exit 1
                fi
              fi

              UUID=$(uuidgen)
              echo "restoring to a single node cluster"
              ETCDCTL_API=3 /usr/bin/etcdctl snapshot restore /var/lib/etcd-backup/snapshot.db \
               --name  $ETCD_NAME \
               --initial-cluster=$ETCD_INITIAL_CLUSTER \
               --initial-cluster-token "openshift-etcd-${UUID}" \
               --initial-advertise-peer-urls $ETCD_NODE_PEER_URL \
               --data-dir="/var/lib/etcd/restore-${UUID}"

              mv /var/lib/etcd/restore-${UUID}/* /var/lib/etcd/

              rmdir /var/lib/etcd/restore-${UUID}
              rm /var/lib/etcd-backup/snapshot.db

              set -x
              exec etcd \
                --logger=zap \
                --log-level=info \
                --initial-advertise-peer-urls=https://${NODE_NODE_ENVVAR_NAME_IP}:2380 \
                --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-NODE_NAME.crt \
                --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-NODE_NAME.key \
                --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \
                --client-cert-auth=true \
                --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt \
                --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key \
                --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \
                --peer-client-cert-auth=true \
                --advertise-client-urls=https://${NODE_NODE_ENVVAR_NAME_IP}:2379 \
                --listen-client-urls=https://0.0.0.0:2379 \
                --listen-peer-urls=https://0.0.0.0:2380 \
                --metrics=extensive \
                --listen-metrics-urls=https://0.0.0.0:9978
          env:
            - name: "ALL_ETCD_ENDPOINTS"
              value: "https://192.168.1.126:2379"
            - name: "ETCDCTL_API"
              value: "3"
            - name: "ETCDCTL_CACERT"
              value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
            - name: "ETCDCTL_CERT"
              value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.crt"
            - name: "ETCDCTL_ENDPOINTS"
              value: "https://192.168.1.126:2379"
            - name: "ETCDCTL_KEY"
              value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-NODE_NAME.key"
            - name: "ETCD_CIPHER_SUITES"
              value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
            - name: "ETCD_DATA_DIR"
              value: "/var/lib/etcd"
            - name: "ETCD_ELECTION_TIMEOUT"
              value: "1000"
            - name: "ETCD_ENABLE_PPROF"
              value: "true"
            - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
              value: "1"
            - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
              value: "200ms"
            - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
              value: "5s"
            - name: "ETCD_HEARTBEAT_INTERVAL"
              value: "100"
            - name: "ETCD_IMAGE"
              value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2d1371d52c5233f6daf04aa0b0c12f29799155c15b49031bd9581d78529742b2"
            - name: "ETCD_INITIAL_CLUSTER_STATE"
              value: "existing"
            - name: "ETCD_QUOTA_BACKEND_BYTES"
              value: "8589934592"
            - name: "ETCD_SOCKET_REUSE_ADDRESS"
              value: "true"
            - name: "NODE_node_ETCD_NAME"
              value: "node"
            - name: "NODE_node_ETCD_URL_HOST"
              value: "192.168.1.126"
            - name: "NODE_node_IP"
              value: "192.168.1.126"
            - name: "ETCD_STATIC_POD_REV"
              value: "REVISION"
          resources:
            requests:
              memory: 600Mi
              cpu: 300m
          readinessProbe:
            tcpSocket:
              port: 2380
            failureThreshold: 3
            initialDelaySeconds: 3
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 5
          securityContext:
            privileged: true
          volumeMounts:
            - mountPath: /etc/kubernetes/manifests
              name: static-pod-dir
            - mountPath: /etc/kubernetes/static-pod-certs
              name: cert-dir
            - mountPath: /var/lib/etcd/
              name: data-dir
            - mountPath: /var/lib/etcd-backup/
              name: backup-dir
        hostNetwork: true
        priorityClassName: system-node-critical
        tolerations:
        - operator: "Exists"
        volumes:
          - hostPath:
              path: /etc/kubernetes/manifests
            name: static-pod-dir
          - hostPath:
              path: /etc/kubernetes/static-pod-resources/etcd-certs
            name: cert-dir
          - hostPath:
              path: /var/lib/etcd
              type: ""
            name: data-dir
          - hostPath:
              path: /var/lib/etcd-backup
              type: ""
            name: backup-dir
    version: 4.12.0-202301311142.p0.ga9aaf7d.assembly.stream-a9aaf7d
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:28:44Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:forceRedeploymentReason: {}
          f:pod.yaml: {}
          f:version: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:28:44Z"
    name: restore-etcd-pod
    namespace: openshift-etcd
    resourceVersion: "4361"
    uid: 81724628-7353-46e9-ba71-610bbaa92141
- apiVersion: v1
  data:
    reason: configmap "etcd-pod" not found
    revision: "1"
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:28:30Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:reason: {}
          f:revision: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:28:30Z"
    name: revision-status-1
    namespace: openshift-etcd
    resourceVersion: "3553"
    uid: 8ce6d431-24e7-490f-b338-f71774eebd78
- apiVersion: v1
  data:
    reason: configmap "etcd-pod-1" not found
    revision: "2"
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:29:22Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:reason: {}
          f:revision: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:29:22Z"
    name: revision-status-2
    namespace: openshift-etcd
    resourceVersion: "4907"
    uid: 665d0fd4-516e-4618-8457-4a82d15bfe9b
- apiVersion: v1
  data:
    reason: configmap/etcd-endpoints has changed
    revision: "3"
  kind: ConfigMap
  metadata:
    creationTimestamp: "2023-05-02T12:31:29Z"
    managedFields:
    - apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        f:data:
          .: {}
          f:reason: {}
          f:revision: {}
      manager: cluster-etcd-operator
      operation: Update
      time: "2023-05-02T12:31:29Z"
    name: revision-status-3
    namespace: openshift-etcd
    resourceVersion: "5723"
    uid: f82c5c6f-86d4-47a7-b81d-4e0a5ebc6f30
kind: ConfigMapList
metadata:
  resourceVersion: "684629"
